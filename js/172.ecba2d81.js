"use strict";(globalThis["webpackChunkiron_journal"]=globalThis["webpackChunkiron_journal"]||[]).push([[172],{172:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Ra});var o=t(1758);const n={class:"row full-width items-center"},r={key:0,class:"row justify-between items-center q-gutter-sm"},i=(0,o.Lk)("span",{class:"col-shrink text-bold"},"Momentum",-1),m=(0,o.eW)("Burn momentum"),l={key:1},s={class:"row items-center"},d=(0,o.Lk)("span",{class:"col-grow text-h6"},"Momentum",-1),u=(0,o.eW)("Burn momentum"),h={key:2,class:"row justify-between items-center q-gutter-sm q-pt-xs q-pb-xs"},p=(0,o.Lk)("span",{class:"col-shrink text-bold"},"Health",-1),c=(0,o.Lk)("span",{class:"col-shrink text-bold"},"Spirit",-1),y=(0,o.Lk)("span",{class:"col-shrink text-bold"},"Supply",-1),k={key:3},g={class:"row q-gutter-sm justify-between items-center"},b=(0,o.Lk)("span",{class:"col-2 text-bold"},"Health",-1),f={class:"row q-gutter-sm justify-between items-center"},w=(0,o.Lk)("span",{class:"col-2 text-bold"},"Spirit",-1),v={class:"row q-gutter-sm justify-between items-center"},x=(0,o.Lk)("span",{class:"col-2 text-bold"},"Supply",-1),W={class:"text-h4 sf-header text-center q-mt-md q-mb-sm",id:"assets"},V=(0,o.eW)(" Assets"),C={key:4,class:"row assets-container"},F={class:"col left-assets q-mr-xs"},I=(0,o.eW)("Remove asset"),S={class:"col right-assets q-ml-xs"},A=(0,o.eW)("Remove asset"),q={key:5,class:"column assets-container"},O=(0,o.eW)("Remove asset"),E=(0,o.Lk)("div",{class:"text-h4 text-center q-mt-md q-mb-sm"},"Bonds",-1),T={class:"row"},L=(0,o.Lk)("div",{class:"col-12 text-h4 text-center q-pt-md"},"Debilities",-1),U={class:"col-4"},R=(0,o.Lk)("span",{class:"row text-h6"},"Conditions",-1),D={class:"col-4"},B=(0,o.Lk)("span",{class:"row text-h6"},"Banes",-1),M={class:"col-4"},Q=(0,o.Lk)("span",{class:"row text-h6"},"Burdens",-1);function Y(e,a,t,Y,X,P){const H=(0,o.g2)("q-input"),_=(0,o.g2)("resource-track"),j=(0,o.g2)("q-tooltip"),K=(0,o.g2)("q-btn"),G=(0,o.g2)("q-separator"),N=(0,o.g2)("stats"),J=(0,o.g2)("i-input"),$=(0,o.g2)("asset"),z=(0,o.g2)("progress-track"),Z=(0,o.g2)("q-checkbox"),ee=(0,o.g2)("assets"),ae=(0,o.g2)("q-page");return(0,o.uX)(),(0,o.Wv)(ae,{padding:""},{default:(0,o.k6)((()=>[(0,o.Lk)("div",n,[(0,o.bF)(H,{class:"col-grow",label:"Name",modelValue:e.campaign.data.character.name,"onUpdate:modelValue":a[0]||(a[0]=a=>e.campaign.data.character.name=a),outlined:"",square:"",dense:"",debounce:"750"},null,8,["modelValue"]),(0,o.bF)(H,{class:"col-xs-2 col-sm-1 col-1",type:"number",label:"XP",modelValue:e.campaign.data.character.xp,"onUpdate:modelValue":a[1]||(a[1]=a=>e.campaign.data.character.xp=a),outlined:"",square:"",dense:"",debounce:"750"},null,8,["modelValue"])]),e.$q.screen.gt.xs?((0,o.uX)(),(0,o.CE)("div",r,[i,(0,o.bF)(_,{class:"col-grow",modelValue:e.campaign.data.character.tracks.momentum,"onUpdate:modelValue":a[2]||(a[2]=a=>e.campaign.data.character.tracks.momentum=a)},null,8,["modelValue"]),(0,o.bF)(H,{class:"col-xs-2 col-sm-1 col-1",label:"Max",type:"number",max:10,min:-6,modelValue:e.campaign.data.character.tracks.momentum.max,"onUpdate:modelValue":a[3]||(a[3]=a=>e.campaign.data.character.tracks.momentum.max=a),dense:"",borderless:"",debounce:"750"},null,8,["modelValue"]),(0,o.bF)(H,{class:"col-xs-2 col-sm-1 col-1",label:"Reset",type:"number",max:4,min:0,modelValue:e.campaign.data.character.tracks.momentum.reset,"onUpdate:modelValue":a[4]||(a[4]=a=>e.campaign.data.character.tracks.momentum.reset=a),dense:"",borderless:"",debounce:"750"},null,8,["modelValue"]),(0,o.bF)(K,{class:"col-shrink",icon:"mdi-fire",onClick:e.burnMomentum,flat:"",dense:""},{default:(0,o.k6)((()=>[(0,o.bF)(j,null,{default:(0,o.k6)((()=>[m])),_:1})])),_:1},8,["onClick"])])):((0,o.uX)(),(0,o.CE)("div",l,[(0,o.Lk)("div",s,[d,(0,o.bF)(H,{class:"col-xs-2 col-sm-1 col-1",label:"Max",type:"number",max:10,min:-6,modelValue:e.campaign.data.character.tracks.momentum.max,"onUpdate:modelValue":a[5]||(a[5]=a=>e.campaign.data.character.tracks.momentum.max=a),dense:"",borderless:"",debounce:"750"},null,8,["modelValue"]),(0,o.bF)(H,{class:"col-xs-2 col-sm-1 col-1",label:"Reset",type:"number",max:4,min:0,modelValue:e.campaign.data.character.tracks.momentum.reset,"onUpdate:modelValue":a[6]||(a[6]=a=>e.campaign.data.character.tracks.momentum.reset=a),dense:"",borderless:"",debounce:"750"},null,8,["modelValue"]),(0,o.bF)(K,{class:"col-shrink",icon:"mdi-fire",onClick:e.burnMomentum,flat:"",dense:""},{default:(0,o.k6)((()=>[(0,o.bF)(j,null,{default:(0,o.k6)((()=>[u])),_:1})])),_:1},8,["onClick"])]),(0,o.bF)(_,{class:"row full-width",modelValue:e.campaign.data.character.tracks.momentum,"onUpdate:modelValue":a[7]||(a[7]=a=>e.campaign.data.character.tracks.momentum=a)},null,8,["modelValue"])])),(0,o.bF)(G),e.$q.screen.gt.xs?((0,o.uX)(),(0,o.CE)("div",h,[p,(0,o.bF)(_,{class:"col-grow",modelValue:e.campaign.data.character.tracks.health,"onUpdate:modelValue":a[8]||(a[8]=a=>e.campaign.data.character.tracks.health=a)},null,8,["modelValue"]),(0,o.bF)(G,{vertical:""}),c,(0,o.bF)(_,{class:"col-grow",modelValue:e.campaign.data.character.tracks.spirit,"onUpdate:modelValue":a[9]||(a[9]=a=>e.campaign.data.character.tracks.spirit=a)},null,8,["modelValue"]),(0,o.bF)(G,{vertical:""}),y,(0,o.bF)(_,{class:"col-grow",modelValue:e.campaign.data.character.tracks.supply,"onUpdate:modelValue":a[10]||(a[10]=a=>e.campaign.data.character.tracks.supply=a)},null,8,["modelValue"])])):((0,o.uX)(),(0,o.CE)("div",k,[(0,o.Lk)("div",g,[b,(0,o.bF)(_,{class:"col-grow",modelValue:e.campaign.data.character.tracks.health,"onUpdate:modelValue":a[11]||(a[11]=a=>e.campaign.data.character.tracks.health=a)},null,8,["modelValue"])]),(0,o.Lk)("div",f,[w,(0,o.bF)(_,{class:"col-grow",modelValue:e.campaign.data.character.tracks.spirit,"onUpdate:modelValue":a[12]||(a[12]=a=>e.campaign.data.character.tracks.spirit=a)},null,8,["modelValue"])]),(0,o.Lk)("div",v,[x,(0,o.bF)(_,{class:"col-grow",modelValue:e.campaign.data.character.tracks.supply,"onUpdate:modelValue":a[13]||(a[13]=a=>e.campaign.data.character.tracks.supply=a)},null,8,["modelValue"])])])),(0,o.bF)(G),(0,o.bF)(N,{class:"q-mt-md",modelValue:e.campaign.data.character.stats,"onUpdate:modelValue":a[14]||(a[14]=a=>e.campaign.data.character.stats=a)},null,8,["modelValue"]),(0,o.bF)(J,{class:"q-mt-md q-mb-md",label:"Gear & Notes",modelValue:e.campaign.data.character.gear,"onUpdate:modelValue":a[15]||(a[15]=a=>e.campaign.data.character.gear=a),autogrow:""},null,8,["modelValue"]),(0,o.bF)(G),(0,o.Lk)("div",W,[V,(0,o.bF)(K,{icon:"add_circle",flat:"",dense:"",onClick:a[16]||(a[16]=a=>e.showAssetSelect=!0)})]),e.$q.screen.gt.sm?((0,o.uX)(),(0,o.CE)("div",C,[(0,o.Lk)("div",F,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.campaign.data.character.assets,((a,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t},[t%2==0?((0,o.uX)(),(0,o.Wv)($,{key:0,class:"q-mb-sm",modelValue:e.campaign.data.character.assets[t],"onUpdate:modelValue":a=>e.campaign.data.character.assets[t]=a},{append:(0,o.k6)((()=>[e.config.data.edit?((0,o.uX)(),(0,o.Wv)(K,{key:0,icon:"delete",flat:"",dense:"",onClick:a=>e.removeAsset(t)},{default:(0,o.k6)((()=>[(0,o.bF)(j,null,{default:(0,o.k6)((()=>[I])),_:1})])),_:2},1032,["onClick"])):(0,o.Q3)("",!0)])),_:2},1032,["modelValue","onUpdate:modelValue"])):(0,o.Q3)("",!0)])))),128))]),(0,o.Lk)("div",S,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.campaign.data.character.assets,((a,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t},[t%2!=0?((0,o.uX)(),(0,o.Wv)($,{key:0,class:"q-mb-sm",modelValue:e.campaign.data.character.assets[t],"onUpdate:modelValue":a=>e.campaign.data.character.assets[t]=a},{append:(0,o.k6)((()=>[e.config.data.edit?((0,o.uX)(),(0,o.Wv)(K,{key:0,icon:"delete",flat:"",dense:"",onClick:a=>e.removeAsset(t)},{default:(0,o.k6)((()=>[(0,o.bF)(j,null,{default:(0,o.k6)((()=>[A])),_:1})])),_:2},1032,["onClick"])):(0,o.Q3)("",!0)])),_:2},1032,["modelValue","onUpdate:modelValue"])):(0,o.Q3)("",!0)])))),128))])])):((0,o.uX)(),(0,o.CE)("div",q,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.campaign.data.character.assets,((a,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t},[(0,o.bF)($,{class:"q-mb-sm",modelValue:e.campaign.data.character.assets[t],"onUpdate:modelValue":a=>e.campaign.data.character.assets[t]=a},{append:(0,o.k6)((()=>[e.config.data.edit?((0,o.uX)(),(0,o.Wv)(K,{key:0,icon:"delete",flat:"",dense:"",onClick:a=>e.removeAsset(t)},{default:(0,o.k6)((()=>[(0,o.bF)(j,null,{default:(0,o.k6)((()=>[O])),_:1})])),_:2},1032,["onClick"])):(0,o.Q3)("",!0)])),_:2},1032,["modelValue","onUpdate:modelValue"])])))),128))])),(0,o.bF)(G),E,(0,o.bF)(z,{class:"q-mb-md",modelValue:e.campaign.data.character.bonds,"onUpdate:modelValue":a[17]||(a[17]=a=>e.campaign.data.character.bonds=a),showDifficulty:!1,setDifficulty:5,showMenaceBtn:!1},null,8,["modelValue"]),(0,o.bF)(G),(0,o.Lk)("div",T,[L,(0,o.Lk)("div",U,[R,(0,o.bF)(Z,{label:"Wounded",modelValue:e.campaign.data.character.debilities.conditions.wounded,"onUpdate:modelValue":a[18]||(a[18]=a=>e.campaign.data.character.debilities.conditions.wounded=a),onClick:e.markDebility},null,8,["modelValue","onClick"]),(0,o.bF)(Z,{label:"Shaken",modelValue:e.campaign.data.character.debilities.conditions.shaken,"onUpdate:modelValue":a[19]||(a[19]=a=>e.campaign.data.character.debilities.conditions.shaken=a),onClick:e.markDebility},null,8,["modelValue","onClick"]),(0,o.bF)(Z,{label:"Unprepared",modelValue:e.campaign.data.character.debilities.conditions.unprepared,"onUpdate:modelValue":a[20]||(a[20]=a=>e.campaign.data.character.debilities.conditions.unprepared=a),onClick:e.markDebility},null,8,["modelValue","onClick"]),(0,o.bF)(Z,{label:"Encumbered",modelValue:e.campaign.data.character.debilities.conditions.encumbered,"onUpdate:modelValue":a[21]||(a[21]=a=>e.campaign.data.character.debilities.conditions.encumbered=a),onClick:e.markDebility},null,8,["modelValue","onClick"])]),(0,o.Lk)("div",D,[B,(0,o.bF)(Z,{label:"Maimed",modelValue:e.campaign.data.character.debilities.banes.maimed,"onUpdate:modelValue":a[22]||(a[22]=a=>e.campaign.data.character.debilities.banes.maimed=a),onClick:e.markDebility},null,8,["modelValue","onClick"]),(0,o.bF)(Z,{label:"Corrupted",modelValue:e.campaign.data.character.debilities.banes.corrupted,"onUpdate:modelValue":a[23]||(a[23]=a=>e.campaign.data.character.debilities.banes.corrupted=a),onClick:e.markDebility},null,8,["modelValue","onClick"])]),(0,o.Lk)("div",M,[Q,(0,o.bF)(Z,{label:"Cursed",modelValue:e.campaign.data.character.debilities.burdens.cursed,"onUpdate:modelValue":a[24]||(a[24]=a=>e.campaign.data.character.debilities.burdens.cursed=a),onClick:e.markDebility},null,8,["modelValue","onClick"]),(0,o.bF)(Z,{label:"Tormented",modelValue:e.campaign.data.character.debilities.burdens.tormented,"onUpdate:modelValue":a[25]||(a[25]=a=>e.campaign.data.character.debilities.burdens.tormented=a),onClick:e.markDebility},null,8,["modelValue","onClick"])])]),(0,o.bF)(ee,{modelValue:e.showAssetSelect,"onUpdate:modelValue":a[26]||(a[26]=a=>e.showAssetSelect=a)},null,8,["modelValue"])])),_:1})}var X=t(8734),P=t(2283),H=t(8511);const _={class:"row q-gutter-sm"};function j(e,a,t,n,r,i){const m=(0,o.g2)("q-btn"),l=(0,o.g2)("q-btn-toggle");return(0,o.uX)(),(0,o.CE)("div",_,[e.variable?((0,o.uX)(),(0,o.Wv)(m,{key:0,class:"col-shrink c-btn",icon:"mdi-numeric-negative-1",onClick:e.decrement,flat:"",dense:"",rounded:""},null,8,["onClick"])):(0,o.Q3)("",!0),(0,o.bF)(l,{class:"col-grow",spread:"",unelevated:"",dense:"",options:e.opts,modelValue:e.data.value,"onUpdate:modelValue":[a[0]||(a[0]=a=>e.data.value=a),e.updateValue]},null,8,["options","modelValue","onUpdate:modelValue"]),e.variable?((0,o.uX)(),(0,o.Wv)(m,{key:1,class:"col-shrink c-btn",icon:"mdi-numeric-positive-1",onClick:e.increment,flat:"",dense:"",rounded:""},null,8,["onClick"])):(0,o.Q3)("",!0)])}const K=(0,o.pM)({name:"ResourceTrack",props:{modelValue:{type:Object,required:!0},reverse:{type:Boolean},variable:{type:Boolean}},emits:["update:modelValue"],setup(e,a){const t=(0,X.KR)(e.modelValue);(0,o.wB)((()=>e.modelValue),(()=>t.value=e.modelValue),{deep:!0});const n=()=>a.emit("update:modelValue",t),r=(0,o.EW)((()=>{const a=[];for(let o=t.value.min;o<=t.value.max;o++){const t={label:o,value:o};e.reverse?a.push(t):a.unshift(t)}return a})),i=()=>{t.value.max--},m=()=>{t.value.max++};return{data:t,opts:r,increment:m,decrement:i,updateValue:n}}});var G=t(2807),N=t(9001),J=t(8408),$=t(8582),z=t.n($);const Z=(0,G.A)(K,[["render",j]]),ee=Z;z()(K,"components",{QBtn:N.A,QBtnToggle:J.A});var ae=t(688);const te={class:"row justify-evenly q-gutter-xs"};function oe(e,a,t,n,r,i){const m=(0,o.g2)("stat");return(0,o.uX)(),(0,o.CE)("div",te,[(0,o.bF)(m,{class:"col-2",modelValue:e.data.edge,"onUpdate:modelValue":a[0]||(a[0]=a=>e.data.edge=a),modelModifiers:{number:!0},label:"Edge"},null,8,["modelValue"]),(0,o.bF)(m,{class:"col-2",modelValue:e.data.heart,"onUpdate:modelValue":a[1]||(a[1]=a=>e.data.heart=a),modelModifiers:{number:!0},label:"Heart"},null,8,["modelValue"]),(0,o.bF)(m,{class:"col-2",modelValue:e.data.iron,"onUpdate:modelValue":a[2]||(a[2]=a=>e.data.iron=a),modelModifiers:{number:!0},label:"Iron"},null,8,["modelValue"]),(0,o.bF)(m,{class:"col-2",modelValue:e.data.shadow,"onUpdate:modelValue":a[3]||(a[3]=a=>e.data.shadow=a),modelModifiers:{number:!0},label:"Shadow"},null,8,["modelValue"]),(0,o.bF)(m,{class:"col-2",modelValue:e.data.wits,"onUpdate:modelValue":a[4]||(a[4]=a=>e.data.wits=a),modelModifiers:{number:!0},label:"Wits"},null,8,["modelValue"])])}function ne(e,a,t,n,r,i){const m=(0,o.g2)("q-input");return(0,o.uX)(),(0,o.Wv)(m,{type:"number",min:0,max:4,modelValue:e.data,"onUpdate:modelValue":[a[0]||(a[0]=a=>e.data=a),e.updateValue],label:e.label,standout:"bg-blue-grey text-white","input-style":{color:"#ECEFF4",fontSize:"2em"},debounce:"750"},null,8,["modelValue","label","onUpdate:modelValue"])}const re=(0,o.pM)({name:"Stats",props:{modelValue:{type:Number,required:!0},label:{type:String,required:!0}},emits:["update:modelValue"],setup(e,a){const t=(0,X.KR)(+e.modelValue);(0,o.wB)((()=>e.modelValue),(()=>t.value=+e.modelValue));const n=()=>a.emit("update:modelValue",t.value);return{updateValue:n,data:t}}});var ie=t(8926);const me=(0,G.A)(re,[["render",ne]]),le=me;z()(re,"components",{QInput:ie.A});const se=(0,o.pM)({name:"Stats",components:{Stat:le},props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue"],setup(e,a){const t=(0,X.KR)(e.modelValue);(0,o.wB)((()=>e.modelValue),(()=>t.value=e.modelValue),{deep:!0});const n=()=>a.emit("update:modelValue",t.value);return{updateValue:n,data:t}}}),de=(0,G.A)(se,[["render",oe]]),ue=de;var he=t(8790);const pe={class:"col-3"},ce={class:"row"},ye={class:"col-4 text-h6 text-center"},ke={class:"col-3 text-bold q-mr-sm text-right"},ge=["innerHTML"],be={key:0},fe={class:"row q-mb-sm no-wrap items-center q-pr-sm"},we=["innerHTML"];function ve(e,a,t,n,r,i){const m=(0,o.g2)("hexbox"),l=(0,o.g2)("q-card-section"),s=(0,o.g2)("q-input"),d=(0,o.g2)("q-separator"),u=(0,o.g2)("resource-track"),h=(0,o.g2)("q-card");return(0,o.uX)(),(0,o.Wv)(h,{class:"card-bg rounded-borders"},{default:(0,o.k6)((()=>[(0,o.bF)(l,{class:"row bg-secondary q-pa-xs items-center justify-between"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",pe,[(0,o.Lk)("div",ce,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.data.items,((a,t)=>((0,o.uX)(),(0,o.Wv)(m,{label:`asset ability ${t+1}`,key:t,modelValue:e.data.items[t].marked,"onUpdate:modelValue":a=>e.data.items[t].marked=a},null,8,["label","modelValue","onUpdate:modelValue"])))),128))])]),(0,o.Lk)("div",ye,[(0,o.eW)((0,he.v_)(e.data.title)+" ",1),e.config.data.edit?(0,o.RG)(e.$slots,"append",{key:0}):(0,o.Q3)("",!0)]),(0,o.Lk)("div",ke,(0,he.v_)(e.data.type),1)])),_:3}),(0,o.bF)(l,{class:"q-pa-sm"},{default:(0,o.k6)((()=>[e.data.subtitle?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"q-mb-sm",innerHTML:e.data.subtitle},null,8,ge)):(0,o.Q3)("",!0),e.data.input?((0,o.uX)(),(0,o.Wv)(s,{key:1,dense:"",class:"q-mb-sm",label:e.data.input.label,modelValue:e.data.input.text,"onUpdate:modelValue":a[0]||(a[0]=a=>e.data.input.text=a)},null,8,["label","modelValue"])):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.data.items,((a,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t},[a.marked?((0,o.uX)(),(0,o.CE)("div",be,[(0,o.Lk)("div",fe,[(0,o.bF)(d,{vertical:""}),(0,o.Lk)("div",{class:"col q-mx-sm text-justify asset-text",innerHTML:a.text},null,8,we)]),e.data.items[t].input?((0,o.uX)(),(0,o.Wv)(s,{key:0,class:"q-mb-sm",dense:"",label:e.data.items[t].input.label,modelValue:e.data.items[t].input.text,"onUpdate:modelValue":a=>e.data.items[t].input.text=a},null,8,["label","modelValue","onUpdate:modelValue"])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0)])))),128)),e.data.track?((0,o.uX)(),(0,o.Wv)(u,{key:2,class:"col-grow q-mt-xs",modelValue:e.data.track,"onUpdate:modelValue":a[1]||(a[1]=a=>e.data.track=a),reverse:"",variable:""},null,8,["modelValue"])):(0,o.Q3)("",!0)])),_:1})])),_:3})}const xe=["title"],We={class:"box",viewBox:"0 0 26 26",width:"25",height:"22"};function Ve(e,a,t,n,r,i){return(0,o.uX)(),(0,o.CE)("div",{class:"hexbox row items-center",onClick:a[0]||(a[0]=a=>e.$emit("update:modelValue",!e.data)),title:e.label},[((0,o.uX)(),(0,o.CE)("svg",We,[(0,o.Lk)("circle",{class:(0,he.C4)({hex:!0,checked:e.data}),cx:"13",cy:"13",r:"10"},null,2)]))],8,xe)}const Ce=(0,o.pM)({name:"Hexbox",props:{modelValue:{type:Boolean,required:!0},label:{type:String}},emits:["update:modelValue"],setup(e){const a=(0,o.EW)((()=>e.modelValue));return{data:a}}}),Fe=(0,G.A)(Ce,[["render",Ve]]),Ie=Fe,Se=(0,o.pM)({components:{ResourceTrack:ee,Hexbox:Ie},name:"Asset",props:{modelValue:{type:Object,required:!0},expanded:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:a}){const t=(0,X.KR)(e.modelValue);(0,o.wB)((()=>e.modelValue),(()=>t.value=e.modelValue),{deep:!0}),(0,o.wB)((()=>t.value),(()=>a("update:modelValue",t.value)),{deep:!0});const n=(0,o.EW)((()=>{const e=[];return t.value.items.forEach((a=>{e.push(a.marked)})),e})),r=(0,X.KR)(e.expanded),i=(0,H.U)();return{data:t,dExpanded:r,config:i,dots:n}}});var Ae=t(7569),qe=t(7066),Oe=t(4609),Ee=t(7015);const Te=(0,G.A)(Se,[["render",ve]]),Le=Te;z()(Se,"components",{QCard:Ae.A,QCardSection:qe.A,QIcon:Oe.A,QInput:ie.A,QSeparator:Ee.A});const Ue=(0,o.eW)("Add custom asset"),Re={key:0},De={class:"row items-baseline q-gutter-xs"},Be={class:"col-shrink text-bold"},Me={class:"col-shrink text-h6"},Qe=["innerHTML"],Ye=["innerHTML"],Xe={class:"row full-width justify-between"},Pe={key:1};function He(e,a,t,n,r,i){const m=(0,o.g2)("q-btn"),l=(0,o.g2)("q-icon"),s=(0,o.g2)("q-input"),d=(0,o.g2)("q-toolbar-title"),u=(0,o.g2)("q-toolbar"),h=(0,o.g2)("q-header"),p=(0,o.g2)("q-item-label"),c=(0,o.g2)("q-item-section"),y=(0,o.g2)("q-item"),k=(0,o.g2)("q-list"),g=(0,o.g2)("q-drawer"),b=(0,o.g2)("hexbox"),f=(0,o.g2)("asset-editor"),w=(0,o.g2)("q-page"),v=(0,o.g2)("q-page-container"),x=(0,o.g2)("q-card"),W=(0,o.g2)("q-layout"),V=(0,o.g2)("q-dialog"),C=(0,o.gN)("ripple");return(0,o.uX)(),(0,o.Wv)(V,{modelValue:e.showDialog,"onUpdate:modelValue":a[8]||(a[8]=a=>e.showDialog=a),"transition-show":"slide-up","transition-hide":"slide-down"},{default:(0,o.k6)((()=>[(0,o.bF)(W,{container:"",class:"asset-bg",view:"hHh lpR fFf",style:{"min-width":"50%"}},{default:(0,o.k6)((()=>[(0,o.bF)(x,{class:"asset-bg"},{default:(0,o.k6)((()=>[(0,o.bF)(h,{elevated:""},{default:(0,o.k6)((()=>[(0,o.bF)(u,{class:"bg-secondary"},{default:(0,o.k6)((()=>[(0,o.bF)(m,{flat:"",dense:"",icon:"menu",onClick:a[0]||(a[0]=a=>e.showList=!e.showList)}),(0,o.bF)(d,null,{default:(0,o.k6)((()=>[!1===e.showEditor?((0,o.uX)(),(0,o.Wv)(s,{key:0,label:"Filter by name or type",modelValue:e.filter,"onUpdate:modelValue":a[1]||(a[1]=a=>e.filter=a),borderless:"",clearable:""},{prepend:(0,o.k6)((()=>[(0,o.bF)(l,{name:"search"})])),_:1},8,["modelValue"])):(0,o.Q3)("",!0)])),_:1}),(0,o.bF)(m,{icon:"close",flat:"",dense:"",onClick:e.close},null,8,["onClick"])])),_:1})])),_:1}),(0,o.bF)(g,{side:"left",modelValue:e.showList,"onUpdate:modelValue":a[3]||(a[3]=a=>e.showList=a),bordered:"",breakpoint:400,persistent:"",width:220},{default:(0,o.k6)((()=>[(0,o.bF)(k,{separator:"",padding:""},{default:(0,o.k6)((()=>[(0,o.bo)(((0,o.uX)(),(0,o.Wv)(y,{clickable:"",onClick:a[2]||(a[2]=a=>e.showEditor=!0)},{default:(0,o.k6)((()=>[(0,o.bF)(c,null,{default:(0,o.k6)((()=>[(0,o.bF)(p,null,{default:(0,o.k6)((()=>[Ue])),_:1})])),_:1})])),_:1})),[[C]]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.cards,((a,t)=>(0,o.bo)(((0,o.uX)(),(0,o.Wv)(y,{key:t,clickable:"",onClick:a=>e.selectAsset(t)},{default:(0,o.k6)((()=>[(0,o.bF)(c,null,{default:(0,o.k6)((()=>[(0,o.bF)(p,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,he.v_)(a.title),1)])),_:2},1024),(0,o.bF)(p,{caption:""},{default:(0,o.k6)((()=>[(0,o.eW)((0,he.v_)(a.type),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[C]]))),128))])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(v,null,{default:(0,o.k6)((()=>[(0,o.bF)(w,{class:"q-pa-sm"},{default:(0,o.k6)((()=>[e.showEditor?((0,o.uX)(),(0,o.CE)("div",Pe,[(0,o.bF)(f,{id:e.editID,modelValue:e.showEditor,"onUpdate:modelValue":a[7]||(a[7]=a=>e.showEditor=a)},null,8,["id","modelValue"])])):((0,o.uX)(),(0,o.CE)("div",Re,[(0,o.Lk)("div",De,[e.ca.id?((0,o.uX)(),(0,o.Wv)(m,{key:0,class:"col-shrink",icon:"edit",flat:"",dense:"",onClick:a[4]||(a[4]=a=>{e.editID=e.ca.id,e.showEditor=!0})})):(0,o.Q3)("",!0),(0,o.Lk)("div",Be,(0,he.v_)(e.ca.type),1),(0,o.Lk)("div",Me,(0,he.v_)(e.ca.title),1)]),e.ca.subtitle?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"q-mb-sm",innerHTML:e.ca.subtitle},null,8,Qe)):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.ca.items,((e,a)=>((0,o.uX)(),(0,o.CE)("div",{class:"q-py-sm text-justify row items-center no-wrap",key:a,style:{"border-bottom":"1px solid grey"}},[(0,o.bF)(b,{class:"col-1",modelValue:e.marked,"onUpdate:modelValue":a=>e.marked=a,label:`asset ability ${a+1}`},null,8,["modelValue","onUpdate:modelValue","label"]),(0,o.Lk)("div",{class:"col-10 q-ml-xs asset-text",innerHTML:e.text},null,8,Ye)])))),128)),(0,o.Lk)("div",Xe,[e.config.data.edit&&e.ca.id?((0,o.uX)(),(0,o.Wv)(m,{key:0,class:"q-ma-md",outline:"",label:"Delete",onClick:a[5]||(a[5]=a=>e.customAssets.delete(e.ca))})):(0,o.Q3)("",!0),(0,o.bF)(m,{class:"q-ma-md",outline:"",label:"Add",onClick:a[6]||(a[6]=a=>e.addAsset(e.ca.id||e.ca.title))})])]))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}var _e=t(5880),je=t(8090);const Ke=()=>({id:(0,je.A)(),title:"Custom Asset",type:"Custom",items:[{text:"Asset item text 1",marked:!1},{text:"Asset item text 2",marked:!1},{text:"Asset item text 3",marked:!1}]}),Ge={Alchemist:{type:"Path",title:"Alchemist",items:[{text:"<p>When you create an elixir, choose an effect: Deftness (edge), audacity (heart), vigor (iron), slyness (shadow), or clarity (wits). Then, suffer -1 supply and roll +wits. On a strong hit, you create a single dose. The character who consumes the elixir must <em>Face Danger</em> +iron and score a hit, after which they add +1 when making moves with the related stat until their health, spirit, or momentum fall below +1. On a weak hit, as above, but suffer an additional -1 supply to create it.</p>\n",marked:!0},{text:"<p>As above, and you may choose two effects for a single dose, or create two doses of the same effect.</p>\n",marked:!1},{text:"<p>When you prepare an elixir, add +1 and take +1 momentum on a hit.</p>\n",marked:!1}]},"Animal Kin":{type:"Path",title:"Animal Kin",items:[{text:"<p>When you make a move to pacify, calm, control, aid, or fend off an animal (or an animal or beast companion), add +1 and take +1 momentum on a hit.</p>\n",marked:!0},{text:"<p>You may add or upgrade an animal or beast companion asset for 1 fewer experience. Once you mark all their abilities, you may <em>Forge a Bond</em> with them and take an automatic strong hit. When you do, mark a bond twice and take 1 experience.</p>\n",marked:!1},{text:"<p>Once per fight, when you leverage your animal or beast companion to make a move, reroll any dice. On a hit, take +1 momentum.</p>\n",marked:!1}]},Archer:{type:"Combat Talent",title:"Archer",subtitle:"<p>If you wield a bow&hellip;.</p>\n",items:[{text:"<p>When you <em>Secure an Advantage</em> by taking a moment to aim, choose your approach and add +1.\n  <ul><li> Trust your instincts: Roll +wits, and take +2 momentum on a strong hit.\n</li><li> Line up your shot: Roll +edge, and take +1 momentum on a hit.</li></ul></p>\n",marked:!0},{text:"<p>Once per fight, when you <em>Strike</em> or <em>Clash</em>, you may take extra shots and suffer -1 supply (decide before rolling). When you do, reroll any dice. On a hit, inflict +2 harm and take +1 momentum.</p>\n",marked:!1},{text:"<p>When you <em>Resupply</em> by hunting, add +1 and take +1 momentum on a hit.</p>\n",marked:!1}]},Augur:{type:"Ritual",title:"Augur",items:[{text:"<p>When you summon a flock of crows and ask a single question, roll +wits. On a strong hit, you interpret their calls as a helpful omen. Envision the response (<em>Ask the Oracle</em> if unsure) and take +2 momentum. On a weak hit, the crows ignore your question and offer a clue to an unrelated problem or opportunity in this area. Envision what you learn (<em>Ask the Oracle</em> if unsure), and take +1 momentum.</p>\n",marked:!0},{text:"<p>As above, and the crows will also help guide you on the proper path. On a hit, add +1 on the next segment when you <em>Undertake a Journey</em>.</p>\n",marked:!1},{text:"<p>When you perform this ritual, add +1 and take +1 momentum on a hit.</p>\n",marked:!1}]},Awakening:{type:"Ritual",title:"Awakening",items:[{text:"<p>When you create a simulacrum, roll +heart. On a strong hit, your creation is given unnatural life. If it aids you as you make a move to assault or overcome an obstacle through strength, add +2. It has 3 health and suffers harm as appropriate, but is not a companion and may not be healed. At 0 health, it is dead. On a weak hit, as above, but if you roll a 1 on your action die when aided by your creation, you must <em>Face Danger</em> +heart to keep it from turning on you (as a formidable foe).</p>\n",marked:!0},{text:"<p>Your simulacrum has 6 health.</p>\n",marked:!1},{text:"<p>When you perform this ritual, add +1 and take +1 momentum on a hit.</p>\n",marked:!1}],track:{value:0,max:3,min:0}},"Banner-Sworn":{type:"Path",title:"Banner-Sworn",subtitle:"<p>Once you mark a bond with a leader or faction&hellip;</p>\n",input:{label:"Name",text:""},items:[{text:"<p>When you <em>Swear an Iron Vow</em> to serve your leader or faction on a mission, you may reroll any dice. When you <em>Fulfill Your Vow</em> and mark experience, take +1 experience.</p>\n",marked:!0},{text:"<p>When you <em>Sojourn</em> or <em>Make Camp</em> in the company of your banner-kin, add +1 and take +1 momentum on a hit.</p>\n",marked:!1},{text:"<p>When you <em>Enter the Fray</em> bearing your banner, add +1 and take +1 momentum on a hit. When you burn momentum while carrying your banner in combat, take +1 momentum after you reset.</p>\n",marked:!1}]},"Battle-Scarred":{type:"Path",title:"Battle-Scarred",subtitle:"<p>Once you become maimed&hellip;</p>\n",items:[{text:"<p>You focus your energies: Reduce your edge or iron by 1 and add +2 to wits or heart, or +1 to each (to a maximum of +4).</p>\n",marked:!1},{text:"<p>You overcome your limitations: Reduce your maximum health by 1. Maimed no longer counts as a debility, and does not reduce your maximum momentum or reset value. When you <em>Endure Stress</em> +heart, take +1 momentum on a strong hit.</p>\n",marked:!1},{text:"<p>You have stared down death before: When you are at 0 health and <em>Endure Harm</em>, you may roll +wits or +heart (instead of +health or +iron). If you do, take +1 momentum on a hit.</p>\n",marked:!1}]},Berserker:{type:"Combat Talent",title:"Berserker",subtitle:"<p>If you are clad only in animal pelts&hellip;</p>\n",items:[{text:"<p>When you <em>Secure an Advantage</em> or <em>Compel</em> by embodying your wild nature, add +1 and take +1 momentum on a hit.</p>\n",marked:!0},{text:"<p>When you <em>Strike</em> or <em>Clash</em> by unleashing your rage (decide before rolling), inflict +1 harm on a hit. Then, choose one.</p>\n\n<ul>\n<li>Push yourself: <em>Endure Harm</em> (1 harm).</li>\n<li>Lose yourself: <em>Endure Stress</em> (1 stress).</li>\n</ul>\n",marked:!1},{text:"<p>When you <em>Endure Harm</em> in a fight, and your health is above 0, you may let the pain inflame your wildness (decide before rolling). If you then score a strong hit and choose to embrace the pain, take +momentum equal to your remaining health. A weak hit counts as a miss.</p>\n",marked:!1}]},Bind:{type:"Ritual",title:"Bind",items:[{text:"<p>When you wear an animal pelt and dance in moonlight, roll +wits. On a strong hit, you or an ally may wear the pelt and add +1 when making moves with the related stat (wolf-edge; bear-iron; deer-heart; fox-shadow; boar-wits). If the wearer rolls a 1 on their action die while making a move using the pelt, the magic is spent. On a weak hit, as above, but the wilds call as you dance; <em>Endure Stress</em> (2 stress).</p>\n",marked:!0},{text:"<p>As above, and you may instead perform this ritual wearing the pelt of a beast. If you do, name the related stat and add +2 (instead of +1).</p>\n",marked:!1},{text:"<p>When you perform this ritual, add +1 and take +1 momentum on a hit.</p>\n",marked:!1}]},"Blade-Bound":{type:"Path",title:"Blade-Bound",subtitle:"<p>Once you mark a bond with a kin-blade, a sentient weapon imbued with the spirit of your ancestor&hellip;</p>\n",input:{label:"Name",text:""},items:[{text:"<p>When you <em>Enter the Fray</em> or <em>Draw the Circle</em> while wielding your kin-blade, add +1 and take +1 momentum on a hit.</p>\n",marked:!1},{text:"<p>When you <em>Gather Information</em> by listening to the whispers of your kin- blade, add +1 and take +2 momentum on a hit. Then, <em>Endure Stress</em> (2 stress).</p>\n",marked:!1},{text:"<p>When you <em>Strike</em> with your kin-blade to inflict savage harm (decide before rolling), add +1 and inflict +2 harm on a hit. Then, <em>Endure Stress</em> (2 stress).</p>\n",marked:!1}]},Bonded:{type:"Path",title:"Bonded",items:[{text:"<p>When you make a move which gives you an add for sharing a bond, add +1 more.</p>\n",marked:!0},{text:"<p>When you completely fill a box on your bonds progress track, envision what your relationships have taught you. Then, take 1 experience and +2 momentum.</p>\n",marked:!1},{text:"<p>When you make a move in a crucial moment and score a miss, you may cling to thoughts of your bond-kin for courage or encouragement. If you do, reroll any dice. On another miss, in addition to the outcome of the move, you must mark shaken or corrupted. If both debilities are already marked, <em>Face Desolation</em>.</p>\n",marked:!1}]},Brawler:{type:"Combat Talent",title:"Brawler",subtitle:"<p>If you are unarmed or fighting with a non-deadly weapon&hellip;</p>\n",items:[{text:"<p>When you <em>Secure an Advantage</em> +iron by engaging in close-quarters brawling (such as punching, tripping, or grappling), add +1. If you score a hit, you may also inflict 1 harm.</p>\n",marked:!0},{text:"<p>When you use an unarmed attack or simple weapon to <em>Strike</em> with deadly intent, add +2 and inflict 2 harm on a hit (instead of 1). On a weak hit or miss, suffer -1 momentum (in addition to any other outcome of the move).</p>\n",marked:!1},{text:"<p>When you <em>Face Danger</em> or <em>Clash</em> against a brawling attack, add +1 and take +1 momentum on a hit.</p>\n",marked:!1}]},"Cave Lion":{type:"Companion",title:"Cave Lion",subtitle:"<p>Your cat takes down its prey.</p>\n",input:{label:"Name",text:""},items:[{text:"<p>When your cat chases down big game, you may <em>Resupply</em> with +edge (instead of +wits). If you do, take +1 supply or +1 momentum on a strong hit.</p>\n",marked:!1},{text:"<p>When you <em>Enter the Fray</em> or <em>Strike</em> by sending your cat to attack, roll +edge. On a hit, take +2 momentum.</p>\n",marked:!1},{text:"<p>When you <em>Make Camp</em>, your cat is alert to trouble. If you or an ally choose to relax, take +1 spirit. If you focus, take +1 momentum.</p>\n",marked:!1}],track:{value:0,max:4,min:0}},Commander:{type:"Path",title:"Commander",items:[{text:"<p>You lead a warband with +4 strength. Roll +strength when you command your warband to <em>Face Danger</em>, <em>Secure an Advantage</em>, <em>Compel</em>, or <em>Battle</em>. When you face the negative outcome of any move, you may suffer -1 strength as the cost. When you <em>Make Camp</em> or <em>Sojourn</em> and score a hit, take +1 strength. While at 0 strength, this asset counts as a debility.</p>\n",marked:!0},{text:"<p>You may dispatch scouts from your warband to <em>Gather Information</em> or <em>Resupply</em>; if you do, roll +strength.</p>\n",marked:!1},{text:"<p>Once you <em>Forge a Bond</em> with your warband, take +1 momentum on a hit when you leverage a warband ability.</p>\n",marked:!1}],track:{value:0,max:4,min:0}},Communion:{type:"Ritual",title:"Communion",items:[{text:"<p>When you surround the remains of a recently deceased intelligent creature with lit candles, and summon its spirit, roll +heart. Add +1 if you share a bond. On a strong hit, the spirit appears and you may converse for a few minutes. Make moves as appropriate (add +1). On a weak hit, as above, but the spirit also delivers troubling news unrelated to your purpose. Envision what it tells you (<em>Ask the Oracle</em> if unsure) and <em>Endure Stress</em> (1 stress).</p>\n",marked:!0},{text:"<p>As above, and you may also commune with the long-dead.</p>\n",marked:!1},{text:"<p>When you perform this ritual, add +1 and take +1 momentum on a hit.</p>\n",marked:!1}]},Cutthroat:{type:"Combat Talent",title:"Cutthroat",subtitle:"<p>If you wield a dagger or knife&hellip;</p>\n",items:[{text:"<p>When you are in position to <em>Strike</em> at an unsuspecting foe, choose one (before rolling).\n  <ul><li> Add +2 and take +1 momentum on a hit.\n</li>  <li> Inflict +2 harm on a hit.</li></ul></p>\n",marked:!0},{text:"<p>When you <em>Compel</em> someone at the point of your blade, or when you rely on your blade to <em>Face Danger</em>, add +1.</p>\n",marked:!1},{text:"<p>Once per fight, when you <em>Secure an Advantage</em> +shadow by performing a feint or misdirection, reroll any dice and take +1 momentum on a hit.</p>\n",marked:!1}]},Dancer:{type:"Path",title:"Dancer",items:[{text:"<p>When you <em>Secure an Advantage</em> +edge by dancing for an audience, add +1 and take +2 momentum on a hit. On a strong hit, also add +2 (one time only) if you make a move to interact with someone in the audience.</p>\n",marked:!0},{text:"<p>When you <em>Face Danger</em> +edge in a fight by nimbly avoiding your foe’s attacks, add +1 and take +1 momentum on a hit.</p>\n",marked:!1},{text:"<p>When you or an ally make a progress move and score a hit, you may perform a dance to commemorate the event. If you do, roll +edge. On a strong hit, you and each of your allies take +2 momentum and +1 spirit. On a weak hit, you take +1 momentum or +1 spirit, but your allies are unmoved.</p>\n",marked:!1}]},Devotant:{type:"Path",title:"Devotant",input:{label:"God's Name",text:""},items:[{text:"<p>When you say your daily prayers, you may <em>Secure an Advantage</em> by asking your god to grant a blessing. If you do, roll +your god’s stat. On a hit, take +2 momentum.</p>\n",marked:!0},{text:"<p>When you <em>Swear an Iron Vow</em> to serve your god on a divine quest, you may roll +your god’s stat and reroll any dice. When you <em>Fulfill Your Vow</em> and mark experience, take +1 experience.</p>\n",marked:!1},{text:"<p>When you <em>Sojourn</em> by sharing the word of your god, you may roll +your god’s stat. If you do, take +1 momentum on a hit.</p>\n",marked:!1}]},Divination:{type:"Ritual",title:"Divination",items:[{text:"<p>When you take a drop of blood from a willing subject (not yourself) and cast the rune-carved stones, roll +heart. On a strong hit, you may read the runes to gain insight about the subject and people close to them, including information you and the subject have no knowledge of. If you use the reading to <em>Gather Information</em>, <em>Compel</em>, or <em>Forge a Bond</em>, add +1. On a weak hit, as above, but the runes reveal their secrets only with extra time and focus; suffer -2 momentum.</p>\n",marked:!0},{text:"<p>As above, and your divination can also reveal information about the subject’s future.</p>\n",marked:!1},{text:"<p>When you perform this ritual, add +1 and take +1 momentum on a hit.</p>\n",marked:!1}]},Duelist:{type:"Combat Talent",title:"Duelist",subtitle:"<p>If you wield a bladed weapon in each hand&hellip;</p>\n",items:[{text:"<p>When you <em>Strike</em> or <em>Clash</em>, you may add +2. If you do (decide before rolling), inflict +1 harm on a strong hit and count a weak hit as a miss.</p>\n",marked:!0},{text:"<p>Once per fight, when you <em>Secure an Advantage</em> +edge by making a bold display of your combat prowess, you may reroll any dice.</p>\n",marked:!1},{text:"<p>When you <em>Draw the Circle</em>, choose one (before rolling).\n  * Add+2.\n  * Take+2 momentum on a hit.</p>\n",marked:!1}]},Empowered:{type:"Path",title:"Empowered",input:{label:"Title/Lineage",text:""},items:[{text:"<p>When you <em>Sojourn</em> and score a weak hit or miss, you may claim the rights of hospitality warranted by your title or lineage. If you do, roll all dice again and add +1. On a miss, you are refused, and your presumption causes significant new trouble.</p>\n",marked:!0},{text:"<p>When you exert your title or lineage to <em>Compel</em>, add +1 and take +1 momentum on a hit.</p>\n",marked:!1},{text:"<p>When you forgo your title or lineage and <em>Forge a Bond</em> as an equal, or when you <em>Swear an Iron Vow</em> to serve someone of a lower station, add +1 and take +1 momentum or +1 spirit on a hit.</p>\n",marked:!1}]},Fated:{type:"Path",title:"Fated",items:[{text:"<p>When you <em>Face Death</em> or <em>Face Desolation</em> while your epic background vow is unfulfilled, it is not yet your time. Instead of rolling, you may take an automatic strong hit. If you do, this asset counts as a debility (and you no longer have this protection) until you next <em>Reach a Milestone</em> on the background vow.</p>\n",marked:!0},{text:"<p>When you <em>Reach a Milestone</em> on your background vow, take +2 momentum or +1 spirit.</p>\n",marked:!1},{text:"<p>For every two boxes filled on your background vow progress track, take 1 experience. When you <em>Fulfill Your Vow</em>, your fate is at hand. Envision your final sacrifice and reroll any dice.</p>\n",marked:!1}]},Fletcher:{type:"Combat Talent",title:"Fletcher",items:[{text:"<p>When you <em>Secure an Advantage</em> by crafting arrows of fine quality, add +1. Then, take +1 supply or +1 momentum on a hit.</p>\n",marked:!0},{text:"<p>When you <em>Resupply</em> by recovering or gathering arrows after a battle, add +2.</p>\n",marked:!1},{text:"<p>When you craft a single arrow designated for a specific foe, envision the process and materials, and roll +wits. On a strong hit, take both. On a weak hit, choose one.</p>\n\n<ul>\n<li>Seeker: When a shooter uses the arrow to <em>Strike</em> or <em>Clash</em> against this foe, reroll any dice (one time only).</li>\n<li>Ravager: When a shooter uses the arrow to inflict harm against this foe, inflict +1d6 harm (one time only).</li>\n</ul>\n",marked:!1}]},"Fortune Hunter":{type:"Path",title:"Fortune Hunter",items:[{text:"<p>When you <em>Swear an Iron Vow</em> to someone under the promise of payment, add +1 and give the quest a special mark. When you successfully <em>Fulfill Your Vow</em> to them, take +wealth equal to the rank of the quest. If you leverage wealth when making a move where resources are a factor, add +wealth and suffer -1 wealth.</p>\n",marked:!0},{text:"<p>When in a community or trading, you may suffer -1 wealth and take +2 supply.</p>\n",marked:!1},{text:"<p>When you <em>Resupply</em> by scavenging or looting, and score a strong hit with a match, you may envision finding an object of value. If you do, take +1 supply (instead of +2) and +1 wealth.</p>\n",marked:!1}],track:{value:0,max:5,min:0}},"Giant Spider":{type:"Companion",title:"Giant Spider",subtitle:"<p>Your spider uncovers secrets.</p>\n",input:{label:"Name",text:""},items:[{text:"<p>When you <em>Secure an Advantage</em> by sending your spider to scout a place, add +1 and take +1 momentum on a hit.</p>\n",marked:!1},{text:"<p>You may <em>Face Danger</em> +shadow by sending your spider to secretly study someone. On a hit, the spider returns to reveal the target’s deepest fears through a reflection in its glassy eyes. Use this to <em>Gather Information</em> and reroll any dice.</p>\n",marked:!1},{text:"<p>When your spider sets a trap, add +1 as you <em>Enter the Fray</em> +shadow. On a strong hit, also inflict 2 harm.</p>\n",marked:!1}],track:{value:0,max:4,min:0}},Hawk:{type:"Companion",title:"Hawk",subtitle:"<p>Your hawk can aid you while it is aloft.</p>\n",input:{label:"Name",text:""},items:[{text:"<p>When you <em>Undertake a Journey</em>, or when you <em>Resupply</em> by hunting for small game, add +1.</p>\n",marked:!1},{text:"<p>When you <em>Secure an Advantage</em> +edge using your hawk to harass and distract your foes, add +1 and take +1 momentum on a hit.</p>\n",marked:!1},{text:"<p>When you <em>Face Danger</em> +wits to detect an approaching threat, or when you <em>Enter the Fray</em> +wits against an ambush, add +2.</p>\n",marked:!1}],track:{value:0,max:3,min:0}},Herbalist:{type:"Path",title:"Herbalist",items:[{text:"<p>When you attempt to <em>Heal</em> using herbal remedies, and you have at least +1 supply, choose one (decide before rolling).</p>\n\n<ul>\n<li>Add +2.</li>\n<li>On a hit, take or give an additional +1 health.</li>\n</ul>\n",marked:!0},{text:"<p>When you <em>Heal</em> a companion, ally, or other character, and score a hit, take +1 spirit or +1 momentum.</p>\n",marked:!1},{text:"<p>When you <em>Make Camp</em> and choose the option to partake, you can create a restorative meal. If you do, you and your companions take +1 health. Any allies who choose to partake also take +1 health, and do not suffer -supply.</p>\n",marked:!1}]},Honorbound:{type:"Path",title:"Honorbound",items:[{text:"<p>When you <em>Turn the Tide</em>, envision how your vows give you strength in this moment. Then, when you make your move, add +2 (instead of +1) and take +1 momentum on a hit.</p>\n",marked:!0},{text:"<p>When you <em>Secure an Advantage</em> or <em>Compel</em> by telling a hard truth, add +1 and take +1 momentum on a hit. On a weak hit or miss, envision how this truth complicates your current situation.</p>\n",marked:!1},{text:"<p>When you <em>Fulfill Your Vow</em> and score a miss, you may reroll one challenge die. If you score a miss again, reduce your maximum spirit by 1. You may recover this lost spirit when you next <em>Fulfill Your Vow</em> and score a strong hit.</p>\n",marked:!1}]},Horse:{type:"Companion",title:"Horse",subtitle:"<p>You and your horse ride as one.</p>\n",input:{label:"Name",text:""},items:[{text:"<p>When you <em>Face Danger</em> +edge using your horse’s speed and grace, or when you <em>Undertake a Journey</em>, add +1.</p>\n",marked:!1},{text:"<p>When you <em>Enter the Fray</em> or <em>Secure an Advantage</em> +heart by charging into combat, add +1 and take +1 momentum on a hit.</p>\n",marked:!1},{text:"<p>When you <em>Strike</em> or <em>Clash</em> at close range while mounted, add +1 and inflict +1 harm on a hit.</p>\n",marked:!1}],track:{value:0,max:5,min:0}},Hound:{type:"Companion",title:"Hound",subtitle:"<p>Your hound is your steadfast companion.</p>\n",input:{label:"Name",text:""},items:[{text:"<p>When you <em>Gather Information</em> using your hound’s keen senses to track your quarry or investigate a scene, add +1 and take +1 momentum on a hit.</p>\n",marked:!1},{text:"<p>When you <em>Strike</em> or <em>Clash</em> alongside your hound and score a hit, inflict +1 harm or take +1 momentum.</p>\n",marked:!1},{text:"<p>When you <em>Endure Stress</em> in the company of your hound, add +1.</p>\n",marked:!1}],track:{value:0,max:4,min:0}},Improviser:{type:"Path",title:"Improviser",items:[{text:"<p>When you <em>Check your Gear</em>, you may roll +wits (instead of +supply). If you do, envision how you make do with a clever solution, and take +1 momentum on a hit.</p>\n",marked:!0},{text:"<p>When you <em>Secure an Advantage</em> or <em>Face Danger</em> by cobbling together an ad hoc tool or apparatus, add +1 and take +1 momentum on a hit. After rolling, you may also suffer -1 supply and add +1 more.</p>\n",marked:!1},{text:"<p>When you throw caution to the wind and make an impulsive move in a risky situation, you may add +2. If you do, take +1 momentum on a strong hit, but count a weak hit as a miss.</p>\n",marked:!1}]},Infiltrator:{type:"Path",title:"Infiltrator",items:[{text:"<p>When you make a move to breach, traverse, or hide within an area held by an enemy, add +1 and take +1 momentum on a hit.</p>\n",marked:!0},{text:"<p>When you <em>Gather Information</em> within an enemy area to discover their positions, plans, or methods, or when you <em>Secure an Advantage</em> within that area through observation, you may roll +shadow (instead of +wits). If you do, take +1 momentum on a hit.</p>\n",marked:!1},{text:"<p>When you <em>Resupply</em> within an enemy area by scavenging or looting, you may roll +shadow (instead of +wits). If you do, take +1 momentum or +1 supply on a hit.</p>\n",marked:!1}]},Invoke:{type:"Ritual",title:"Invoke",items:[{text:"<p>When you consume the mystical essence of your surroundings, roll +wits. On a strong hit, add the value of your action die to your essence track (max 6). You may then <em>Secure an Advantage</em> or <em>Face Danger</em> +essence to create minor mystical effects or illusions. If you do, suffer -1 essence and take +1 momentum on a hit. On a weak hit, as above, but capturing these energies is harrowing; <em>Endure Stress</em> (2 stress).</p>\n",marked:!0},{text:"<p>You may <em>Compel</em> +essence (and suffer -1 essence) through a show of power.</p>\n",marked:!1},{text:"<p>When you perform this ritual, add +1 and take +1 essence on a hit.</p>\n",marked:!1}],track:{value:0,max:6,min:0}},Ironclad:{type:"Combat Talent",title:"Ironclad",subtitle:"<p>If you wear armor&hellip;</p>\n",items:[{text:"<p>When you equip or adjust your armor, choose one.</p>\n\n<ul>\n<li>Lightly armored: When you <em>Endure Harm</em> in a fight, add +1 and take +1 momentum on a hit.</li>\n<li>Geared for war: Mark encumbered. When you <em>Endure Harm</em> in a fight, add +2 and take +1 momentum on a hit.</li>\n</ul>\n",marked:!0},{text:"<p>When you <em>Clash</em> while you are geared for war, add +1.</p>\n",marked:!1},{text:"<p>When you <em>Compel</em> in a situation where strength of arms is a factor, add +2.</p>\n",marked:!1}]},Keen:{type:"Ritual",title:"Keen",items:[{text:"<p>When you hold a weapon and sing a keen for those it has killed, roll +heart. On a strong hit, the wielder inflicts +1 harm when they <em>Strike</em> or <em>Clash</em>. If they roll a 1 on their action die when making a move to inflict harm, the magic is spent. On a weak hit, as above, but the voices of those who were slain join in your song; <em>Endure Stress</em> (2 stress).</p>\n",marked:!0},{text:"<p>As above, and the wielder may also (one time only) add +1 and take +2 momentum on a hit when they <em>Draw the Circle</em>, <em>Enter the Fray</em>, or <em>Battle</em>.</p>\n",marked:!1},{text:"<p>When you perform this ritual, add +1 and take +1 momentum on a hit.</p>\n",marked:!1}]},Kindred:{type:"Companion",title:"Kindred",subtitle:"<p>Your friend stands by you.</p>\n",input:{label:"Name",text:""},items:[{text:"<p>When you make a move outside of combat aided by your companion’s expertise, add +1.</p>\n",marked:!1},{text:"<p>When you <em>Clash</em> or <em>Battle</em> alongside your companion, or when you <em>Face Danger</em> against an attack by standing together, add +1.</p>\n",marked:!1},{text:"<p>Once you mark a bond with your companion, add +1 when you <em>Face Desolation</em> in their presence.</p>\n",marked:!1}],track:{value:0,max:4,min:0}},Leech:{type:"Ritual",title:"Leech",items:[{text:"<p>When you mark your hands or weapon with an intricate blood rune, roll +iron. On a strong hit, the rune thirsts for fresh blood. One time only, when you make a move to inflict harm, reroll any dice and inflict +2 harm on a hit. Then, for each point of harm inflicted, take +1 and allocate it as +health or +momentum. On a weak hit, as above, but this asset counts as a debility until the rune’s thirst is quenched.</p>\n",marked:!0},{text:"<p>As above, and you may also touch an ally or companion and let them take any remaining points as +health or +momentum.</p>\n",marked:!1},{text:"<p>When you perform this ritual, add +1 and take +1 momentum on a hit.</p>\n",marked:!1}]},Lightbearer:{type:"Ritual",title:"Lightbearer",items:[{text:"<p>When you focus on a source of light and capture its essence, roll +wits. On a strong hit, set your light track to +6. On a weak hit, make it +3. Then, when you make a move to overcome or navigate darkness, you may add +2 and suffer -1 light.</p>\n",marked:!0},{text:"<p>You may use your light to <em>Strike</em> or <em>Clash</em> against a dark-dwelling foe. Choose the amount of light to unleash, and roll +light (instead of +iron or +edge). Suffer -light equal to that amount. On a hit, your harm is 1+your unleashed light.</p>\n",marked:!1},{text:"<p>When you perform this ritual, add +1 and take +1 momentum on a hit.</p>\n",marked:!1}],track:{value:0,max:6,min:0}},"Long-Arm":{type:"Combat Talent",title:"Long-Arm",subtitle:"<p>If you wield a staff&hellip;</p>\n",items:[{text:"<p>In your hands, a humble staff is a deadly weapon (2 harm). When you instead use it as a simple weapon (1 harm), you may <em>Strike</em> or <em>Clash</em> +edge (instead of iron). If you do, add +1 and take +1 momentum on a hit.</p>\n",marked:!0},{text:"<p>When you <em>Secure an Advantage</em> +edge using your staff to disarm, trip, shove, or stun your foe, add +1 and take +1 momentum on a hit.</p>\n",marked:!1},{text:"<p>When you <em>Undertake a Journey</em> and score a strong hit, or if you accompany an ally who scores a strong hit on that move, your staff provides support and comfort in your travels; take +1 momentum.</p>\n",marked:!1}]},Lorekeeper:{type:"Path",title:"Lorekeeper",items:[{text:"<p>You are the bearer of a mystical archive. When you <em>Secure an Advantage</em> or <em>Gather Information</em> using lore recalled from your studies, add +1. If you have a few hours to search the archive, add +2. On a hit, envision the obscure but helpful knowledge you put to use (<em>Ask the Oracle</em> if unsure), and take +1 momentum.</p>\n",marked:!0},{text:"<p>When you learn of a site or object holding lost knowledge, and <em>Swear an Iron Vow</em> to recover it for the archive, reroll any dice. When you <em>Fulfill Your Vow</em> and mark experience, take +1 experience.</p>\n",marked:!1},{text:"<p>One time only, you may browse the archive’s forbidden depths. If you do, raise your wits by 1 and roll an action die. On 1-3, you must also mark corrupted or <em>Face Desolation</em> (ignoring momentum).</p>\n",marked:!1}]},Loyalist:{type:"Path",title:"Loyalist",items:[{text:"<p>When you <em>Aid Your Ally</em>, add +1 and take +1 momentum on a hit. This is in addition to the benefits taken by your ally.</p>\n",marked:!0},{text:"<p>When an ally makes the <em>Endure Stress</em> move in your company, they add +1 and you take +1 momentum on a hit.</p>\n",marked:!1},{text:"<p>When you stand with your ally as they make a progress move, envision how you support them. Then, roll one challenge die. On a 1-9, your ally may replace one of their challenge dice with yours. On a 10, envision how you inadvertently undermine their action; your ally must replace their lowest challenge die with yours.</p>\n",marked:!1}]},Mammoth:{type:"Companion",title:"Mammoth",subtitle:"<p>Your mammoth walks a resolute path.</p>\n",input:{label:"Name",text:""},items:[{text:"<p>When your mammoth travels with you as you <em>Undertake a Journey</em>, you may add +2 but suffer -1 momentum (decide before rolling).</p>\n",marked:!1},{text:"<p>When you make a move which requires you to roll +supply, you may instead roll +your mammoth’s health.</p>\n",marked:!1},{text:"<p>When you <em>Strike</em> or <em>Clash</em> by riding your mammoth against a pack of foes, add +1 and inflict +1 harm on a hit.</p>\n",marked:!1}],track:{value:0,max:5,min:0}},Masked:{type:"Path",title:"Masked",subtitle:"<p>Once you mark a bond with elves, and are gifted a mask of precious elderwood&hellip;</p>\n",items:[{text:"<p>Choose your mask’s material.</p>\n\n<ul>\n<li>Thunderwood: Edge / Health</li>\n<li>Bloodwood: Iron / Health</li>\n<li>Ghostwood: Shadow / Spirit</li>\n<li>Whisperwood: Wits / Spirit</li>\n</ul>\n\n<p>When you wear the mask and make a move which uses its stat, add +1. If you roll a 1 on your action die, suffer -1 to the associated track (in addition to any other outcome of the move).</p>\n",marked:!1},{text:"<p>As above, and you may instead add +2 and suffer -2 (decide before rolling).</p>\n",marked:!1},{text:"<p>When you <em>Face Death</em> or <em>Face Desolation</em> while wearing the mask, you may roll +its stat (instead of +heart).</p>\n",marked:!1}]},Oathbreaker:{type:"Path",title:"Oathbreaker",subtitle:"<p>Once you <em>Forsake Your Vow</em>&hellip;</p>\n",items:[{text:"<p>This asset counts as a debility. One time only, when you <em>Swear an Iron Vow</em> to redeem yourself (extreme or greater), give that vow a special mark. When you <em>Reach a Milestone</em> on the marked vow, take +2 momentum.</p>\n",marked:!0},{text:"<p>When you <em>Secure an Advantage</em> or <em>Compel</em> by reaffirming your commitment to your marked vow, add +1 and take +1 momentum on a hit.</p>\n",marked:!1},{text:"<p>When you <em>Fulfill Your Vow</em> on your marked quest and score a hit, you find redemption and automatically activate this ability at no cost. You may then improve one of your stats by +1 and discard this asset.</p>\n",marked:!1}]},Outcast:{type:"Path",title:"Outcast",items:[{text:"<p>When your supply is reduced to 0, suffer any remaining -supply as -momentum. Then, roll +wits. On a strong hit, you manage to scrape by and take +1 supply. On a weak hit, you may suffer -2 momentum in exchange for +1 supply. On a miss, you are <em>Out of Supply</em>.</p>\n",marked:!0},{text:"<p>When you <em>Sojourn</em>, you may reroll any dice. If you do (decide before your first roll), your needs are few, but your isolation sets you apart from others. A strong hit counts as a weak hit.</p>\n",marked:!1},{text:"<p>When you <em>Reach Your Destination</em> and score a strong hit, you recall or recognize something helpful about this place. Envision what it is, and take +2 momentum.</p>\n",marked:!1}]},Owl:{type:"Companion",title:"Owl",subtitle:"<p>Your owl soars through the darkness.</p>\n",input:{label:"Name",text:""},items:[{text:"<p>If you <em>Resupply</em> at night by sending your owl to hunt, take +2 momentum on a hit. When you <em>Enter the Fray</em> +wits against an ambush in darkness, add +1 and take +1 momentum on a hit.</p>\n",marked:!1},{text:"<p>When you leverage your owl’s secret knowledge to perform a ritual, add +1 or take +1 momentum on a hit (decide before rolling).</p>\n",marked:!1},{text:"<p>When you <em>Face Death</em>, take your owl’s health as +momentum before you roll.</p>\n",marked:!1}],track:{value:0,max:3,min:0}},Pretender:{type:"Path",title:"Pretender",items:[{text:"<p>When you establish a false identity, roll +shadow. On a strong hit, you may add +2 when you make moves using this identity to deceive or influence others. If you roll a 1 on your action die when using your false identity, someone doubts you. Make appropriate moves to reassure them or prevent them from revealing the truth. On a weak hit, as above, but add +1 (instead of +2).</p>\n",marked:!0},{text:"<p>As above, and you may roll +shadow (instead of +heart) when you <em>Sojourn</em> under your false identity. If you do, take +1 momentum on a hit.</p>\n",marked:!1},{text:"<p>When you <em>Secure an Advantage</em> by revealing your true identity in a dramatic moment, reroll any dice.</p>\n",marked:!1}]},Raven:{type:"Companion",title:"Raven",subtitle:"<p>Your raven heeds your call.</p>\n",input:{label:"Name",text:""},items:[{text:"<p>When you <em>Secure an Advantage</em> or <em>Face Danger</em> +shadow using your raven to perform trickery (such as creating a distraction or stealing a small object) add +1 and take +1 momentum on a hit.</p>\n",marked:!1},{text:"<p>When you <em>Face Death</em>, add +2 and take +1 momentum on a hit.</p>\n",marked:!1},{text:"<p>When your raven carries messages for you, you may <em>Secure an Advantage</em>, <em>Gather Information</em>, or <em>Compel</em> from a distance.</p>\n",marked:!1}],track:{value:0,max:2,min:0}},Revenant:{type:"Path",title:"Revenant",subtitle:"<p>Once you <em>Face Death</em> and return to the world of the living&hellip;</p>\n",items:[{text:"<p>When you are at 0 health, and <em>Endure Harm</em> or <em>Face Death</em>, add +1. If you then burn momentum to improve your result, envision what bond or vow binds you to this world, and take +2 momentum after you reset.</p>\n",marked:!0},{text:"<p>When you make a move to investigate, oppose, or interact with a horror, spirit, or other undead being, add +1.</p>\n",marked:!1},{text:"<p>When you bring death to your foe to <em>End the Fight</em>, you may burn momentum to cancel one (not both) of the challenge dice if your momentum is greater than the value of that die. If you do, <em>Endure Stress</em> (2 stress).</p>\n",marked:!1}]},Rider:{type:"Path",title:"Rider",subtitle:"<p>If you are with your horse companion&hellip;</p>\n",items:[{text:"<p>When you <em>Heal</em> your horse, or when you <em>Face Danger</em> to calm or encourage it, add +1 and take +1 momentum on a hit.</p>\n",marked:!0},{text:"<p>When you <em>Undertake a Journey</em>, you may push your horse harder and add +1 (after rolling). If you do, make the <em>Companion Endure Harm</em> move (1 harm).</p>\n",marked:!1},{text:"<p>When you <em>Secure an Advantage</em> +wits by sizing up a perilous situation from the saddle, you are one with your horse’s instincts. Add +1 and take +1 momentum on a hit.</p>\n",marked:!1}]},Ritualist:{type:"Path",title:"Ritualist",subtitle:"<p>Once you <em>Fulfill Your Vow</em> (formidable or greater) in service to an elder mystic, and <em>Forge a Bond</em> to train with them&hellip;</p>\n",items:[{text:"<p>When you <em>Secure an Advantage</em> to ready yourself for a ritual, envision how you prepare. Then, add +1 and take +1 momentum on a hit.</p>\n",marked:!0},{text:"<p>When you perform a ritual, you may suffer -1 supply and add +1 (decide before rolling).</p>\n",marked:!1},{text:"<p>When you tattoo the essence of a new ritual onto your skin, envision the mark you create. You may then purchase and upgrade that ritual asset for 1 fewer experience.</p>\n",marked:!1}]},Scry:{type:"Ritual",title:"Scry",items:[{text:"<p>When you look into flames to study a remote person or location, roll +shadow. You or someone with you must have knowledge of the target. On a strong hit, you may <em>Gather Information</em> through observation using +shadow or +wits. On a weak hit, as above, but the flames are hungry; choose one to sacrifice.\n  * Your blood: <em>Endure Harm</em> (2 harm).\n  * Something precious: <em>Endure Stress</em> (2 stress).\n  * Provisions: Suffer -2 supply.</p>\n",marked:!0},{text:"<p>As above, and you may instead study a past event.</p>\n",marked:!1},{text:"<p>When you perform this ritual, add +1 and take +1 momentum on a hit.</p>\n",marked:!1}]},"Shadow-Kin":{type:"Path",title:"Shadow-Kin",subtitle:"<p>Once you become corrupted&hellip;</p>\n",items:[{text:"<p>You harden your heart: Reduce your heart stat by 1 and add up to +2 to shadow (to a maximum of +4).</p>\n",marked:!1},{text:"<p>You are attuned to the realms of shadow: When you perform a ritual, add +1.</p>\n",marked:!1},{text:"<p>You know the sly ways of death: When you <em>Face Death</em>, you may roll +shadow (instead of +heart). On a weak hit, if you choose to undertake a deathbound quest, you may roll +shadow (instead of +heart) and reroll any dice as you <em>Swear an Iron Vow</em>. When you <em>Fulfill Your Vow</em> on that quest and and mark experience, take +2 experience.</p>\n",marked:!1}]},"Shadow-Walk":{type:"Ritual",title:"Shadow-Walk",items:[{text:"<p>When you cloak yourself with the gossamer veil of the shadow realms, roll +shadow. On a strong hit, take +1 momentum. Then, reroll any dice (one time only) when you make a move by ambushing, hiding, or sneaking. On a weak hit, as above, but the shadows try to lead you astray. You must first <em>Face Danger</em> to find your way.</p>\n",marked:!0},{text:"<p>As above, and you may also travel along the hidden paths of the shadow realms to <em>Undertake a Journey</em> using +shadow (instead of +wits). If you do, <em>Endure Stress</em> (1 stress) and mark progress twice on a strong hit.</p>\n",marked:!1},{text:"<p>When you perform this ritual, add +1 and take +1 momentum on a hit.</p>\n",marked:!1}]},"Shield-Bearer":{type:"Combat Talent",title:"Shield-Bearer",subtitle:"<p>If you wield a shield&hellip;</p>\n",items:[{text:"<p>When you <em>Face Danger</em> using your shield as cover, add +1. When you <em>Clash</em> in close quarters, take +1 momentum on a strong hit.</p>\n",marked:!0},{text:"<p>When you paint your shield with a meaningful symbol, envision what you create. Then, if you <em>Endure Stress</em> as you face off against a fearsome foe, add +1 and take +1 momentum on a hit.</p>\n",marked:!1},{text:"<p>When forced to <em>Endure Harm</em> in a fight, you may instead sacrifice your shield and ignore all harm. If you do, the shield is destroyed. Once per fight, you also take initiative when you sacrifice your shield to avoid harm.</p>\n",marked:!1}]},Sighted:{type:"Path",title:"Sighted",items:[{text:"<p>When you <em>Face Danger</em> or <em>Gather Information</em> to identify or detect mystic forces, add +1 and take +1 momentum on a hit.</p>\n",marked:!0},{text:"<p>When you <em>Compel</em>, <em>Forge a Bond</em>, or <em>Test Your Bond</em> with a fellow mystic or mystical being, add +1 and take +1 momentum on a hit.</p>\n",marked:!1},{text:"<p>When you <em>Secure an Advantage</em> by studying someone or something in a charged situation, add +1 and take +1 momentum on a hit. When you also pierce the veil to explore deeper truths (decide before rolling), you may reroll any dice. If you do, count a weak hit as a miss.</p>\n",marked:!1}]},Skirmisher:{type:"Combat Talent",title:"Skirmisher",subtitle:"<p>If you wield a spear&hellip;</p>\n",items:[{text:"<p>When you <em>Face Danger</em> by holding a foe at bay using your spear’s reach, roll +iron or +edge. If you score a hit, you may&hellip;\n  * Iron: <em>Strike</em> (if you have initiative) or <em>Clash</em> now, and add +1.\n  * Edge: Take+1 momentum.</p>\n",marked:!0},{text:"<p>When you <em>Strike</em> in close combat, you may attempt to drive your spear home (decide before rolling). If you do, add +1 and inflict +2 harm on a hit. If you score a hit and the fight continues, <em>Face Danger</em> +iron to recover your spear.</p>\n",marked:!1},{text:"<p>When you <em>Secure an Advantage</em> by bracing your spear against a charging foe, add +1 and take +1 momentum on a hit.</p>\n",marked:!1}]},Slayer:{type:"Path",title:"Slayer",items:[{text:"<p>When you <em>Gather Information</em> by tracking a beast or horror, or when you <em>Secure an Advantage</em> by readying yourself for a fight against them, add +1 and take +1 momentum on a hit.</p>\n",marked:!0},{text:"<p>When you <em>Swear an Iron Vow</em> to slay a beast or horror, you may reroll any dice. When you <em>Fulfill Your Vow</em> and mark experience, take +1 experience.</p>\n",marked:!1},{text:"<p>When you slay a beast or horror (at least formidable), you may take a trophy and choose one.</p>\n\n<ul>\n<li>Power a ritual: When you or an ally make a ritual move, reroll any dice (one time only).</li>\n<li>Prove your worth: When you <em>Sojourn</em>, reroll any dice (one time only).</li>\n</ul>\n",marked:!1}]},Slinger:{type:"Combat Talent",title:"Slinger",subtitle:"<p>If you wield a sling&hellip;</p>\n",items:[{text:"<p>When launched from a sling, a simple stone inflicts deadly harm (2 harm). When you <em>Enter the Fray</em> by barraging your foe with sling-bullets, inflict harm on a strong hit.</p>\n",marked:!0},{text:"<p>When you <em>Strike</em> by launching stones at an advancing foe, you may choose one (before rolling).\n  * Hold them back: Retain initiative on a weak hit, but inflict only 1 harm.\n  * Hit them hard: Inflict +1 harm on a hit, but suffer -1 momentum.</p>\n",marked:!1},{text:"<p>When you <em>Secure an Advantage</em> by preparing stones of a special quality or material, add +1. Then, take +1 momentum or +1 supply on a hit.</p>\n",marked:!1}]},"Spirit-Bound":{type:"Path",title:"Spirit-Bound",items:[{text:"<p>You are haunted by someone whose death you caused through your actions or failures. When you consult with their spirit to <em>Secure an Advantage</em> or <em>Gather Information</em>, add +1 and take +2 momentum on a hit. On a weak hit, also <em>Endure Stress</em> (1 stress).</p>\n",marked:!0},{text:"<p>When you <em>Face Death</em> guided by the spirit, add +1. On a strong hit, envision what you learn and take 1 experience.</p>\n",marked:!1},{text:"<p>One time only, when you successfully <em>Fulfill Your Vow</em> (formidable or greater) in service to the spirit, choose one.</p>\n\n<ul>\n<li>Let them go: Take 2 experience for each marked ability and discard this asset.</li>\n<li>Deepen your connection: Add +1 more when you leverage this asset.</li>\n</ul>\n",marked:!1}]},Storyweaver:{type:"Path",title:"Storyweaver",items:[{text:"<p>When you <em>Secure an Advantage</em>, <em>Compel</em>, or <em>Forge a Bond</em> by sharing an inspiring or enlightening song, poem, or tale, envision the story you tell. Then, add +1 and take +1 momentum on a hit.</p>\n",marked:!0},{text:"<p>When you <em>Make Camp</em> and choose the option to relax, you may share a story with your allies or compose a new story if alone. If you do, envision the story you tell and take +1 spirit or +1 momentum. Any allies who choose to relax in your company may also take +1 spirit or +1 momentum.</p>\n",marked:!1},{text:"<p>When you <em>Sojourn</em> within a community with which you share a bond, add +2 (instead of +1).</p>\n",marked:!1}]},Sunderer:{type:"Combat Talent",title:"Sunderer",subtitle:"<p>If you wield an axe&hellip;</p>\n",items:[{text:"<p>When you <em>Strike</em> or <em>Clash</em> in close quarters, you may suffer -1 momentum and inflict +1 harm on a hit (decide before rolling).</p>\n",marked:!0},{text:"<p>When you have your axe in hand, and use the promise of violence to <em>Compel</em> or <em>Secure an Advantage</em>, add +1 and take +1 momentum on a hit.</p>\n",marked:!1},{text:"<p>When you make a tribute to a fallen foe (formidable or greater) by carving a rune in the haft of your axe, roll +heart. On a strong hit, inflict +1d6 harm (one time only) when you <em>Strike</em> or <em>Clash</em>. On a weak hit, as above, but this death weighs on you; <em>Endure Stress</em> (2 stress).</p>\n",marked:!1}]},Sway:{type:"Ritual",title:"Sway",items:[{text:"<p>When you speak a person’s name three times to the wind, roll +wits. On a strong hit, the wind whispers of this person’s need. Envision what you hear (<em>Ask the Oracle</em> if unsure). If you use this information or fulfill this need when you <em>Compel</em> them, you may reroll any dice (one time only). On a weak hit, as above, but this person’s need creates a troubling dilemma or complication; <em>Endure Stress</em> (1 stress).</p>\n",marked:!0},{text:"<p>As above, and if you score a strong hit when you <em>Compel</em>, you may also reroll any dice (one time only) when you <em>Gather Information</em> from this person.</p>\n",marked:!1},{text:"<p>When you perform this ritual, add +1 and take +1 momentum on a hit.</p>\n",marked:!1}]},Swordmaster:{type:"Combat Talent",title:"Swordmaster",subtitle:"<p>If you wield a sword&hellip;</p>\n",items:[{text:"<p>When you <em>Strike</em> or <em>Clash</em> and burn momentum to improve your result, inflict +2 harm. If the fight continues, add +1 on your next move.</p>\n",marked:!0},{text:"<p>When you <em>Clash</em> and score a strong hit, add +1 if you immediately follow with a <em>Strike</em>.</p>\n",marked:!1},{text:"<p>When you <em>Swear an Iron Vow</em> by kneeling and grasping your sword’s blade, add +1 and take +1 momentum on a hit. If you let the edge draw blood from your hands, <em>Endure Harm</em> (1 harm) in exchange for an additional +1 momentum on a hit.</p>\n",marked:!1}]},Talisman:{type:"Ritual",title:"Talisman",items:[{text:"<p>When you fashion a charm, envision it and name the specific person or creature it protects against. Then roll +wits. On a strong hit, when the wearer opposes the target through a move, add +2. If a 1 is rolled on the action die while making a move using the charm, the magic is spent. On a weak hit, as above, but the wearer adds +1 when making a move (instead of +2).</p>\n",marked:!0},{text:"<p>As above, and you may instead fashion a charm which aids the wearer against all supernatural threats, such as mystic rituals or horrors.</p>\n",marked:!1},{text:"<p>When you perform this ritual, add +1 and take +1 momentum on a hit.</p>\n",marked:!1}]},Tether:{type:"Ritual",title:"Tether",items:[{text:"<p>When you commune with the spirits of a place, roll +heart. If you share a bond with someone there, add +1. On a strong hit, you are tethered. When you <em>Undertake a Journey</em> to return, you may roll +spirit or +heart (instead of +wits), and take +1 momentum on a hit. When you <em>Reach Your Destination</em>, take +2 momentum on a strong hit. The tether is lost if you perform this ritual elsewhere, or when you <em>Face Desolation</em>. On a weak hit, as above, but the spirits reveal a disturbing aspect of the place; <em>Endure Stress</em> (2 stress).</p>\n",marked:!0},{text:"<p>As above, and you may also reroll any dice when you <em>Sojourn</em> in the tethered place.</p>\n",marked:!1},{text:"<p>When you perform this ritual, add +1 and take +1 momentum on a hit.</p>\n",marked:!1}]},"Thunder-Bringer":{type:"Combat Talent",title:"Thunder-Bringer",subtitle:"<p>If you wield a mighty hammer&hellip;</p>\n",items:[{text:"<p>When you <em>Face Danger</em>, <em>Secure an Advantage</em>, or <em>Compel</em> by hitting or breaking an inanimate object, add +1 and take +1 momentum on a hit.</p>\n",marked:!0},{text:"<p>When you <em>Strike</em> a foe to knock them back, stun them, or put them off balance, inflict 1 harm (instead of 2) and take +2 momentum on a hit. On a strong hit, you also create an opening and add +1 on your next move.</p>\n",marked:!1},{text:"<p>When you <em>Turn the Tide</em>, you may <em>Strike</em> with all the fury and power you can muster. If you do (decide before rolling), you may reroll any dice and inflict +2 harm on a strong hit, but count a weak hit as a miss.</p>\n",marked:!1}]},Totem:{type:"Ritual",title:"Totem",items:[{text:"<p>When you hold a totem of your animal or beast companion and focus on it, roll +heart. On a strong hit, you are bound together. Add +1 and take +1 momentum on a hit when you use a companion ability. If you roll a 1 on your action die when using a companion ability, the magic is spent. On a weak hit, as above, but creating this connection is unsettling; <em>Endure Stress</em> (1 stress).</p>\n",marked:!0},{text:"<p>As above, and you may also perceive the world through your companion’s senses while you make moves aided by them (even when you are apart).</p>\n",marked:!1},{text:"<p>When you perform this ritual, add +1 and take +1 momentum on a hit.</p>\n",marked:!1}]},Trickster:{type:"Path",title:"Trickster",items:[{text:"<p>When you <em>Face Danger</em>, <em>Secure an Advantage</em>, or <em>Compel</em> by lying, bluffing, stealing, or cheating, add +1.</p>\n",marked:!0},{text:"<p>When you <em>Gather Information</em> by investigating a devious scheme, you may roll +shadow (instead of +wits). If you do, take +2 momentum on a hit.</p>\n",marked:!1},{text:"<p>When you <em>Forge a Bond</em> for a relationship founded on a lie, choose one.</p>\n\n<ul>\n<li>Keep your secret: Roll +shadow (instead of +heart).</li>\n<li>Reveal the truth: Roll +heart. On a strong hit, mark a bond twice and take 1 experience. A weak hit counts as a miss.</li>\n</ul>\n",marked:!1}]},Veteran:{type:"Path",title:"Veteran",items:[{text:"<p>When you burn momentum to improve your result in combat, envision how your hard-won fighting experience gives you the upper hand. Then, take +1 momentum after you reset, and add +1 when you make your next move. Once per fight, you also take initaitive when burning momentum to improve a miss to a weak hit.</p>\n",marked:!0},{text:"<p>When you <em>Swear an Iron Vow</em> to someone who fought beside you, or <em>Forge a Bond</em> with them, add +2 and take +2 momentum on a hit.</p>\n",marked:!1},{text:"<p>When you <em>Resupply</em> by looting the dead on a field of battle, add +1 and take +1 momentum on a hit.</p>\n",marked:!1}]},Visage:{type:"Ritual",title:"Visage",items:[{text:"<p>When you paint yourself in blood and ash, roll +wits. On a strong hit, you may add +2 and take +1 momentum on a hit when you <em>Secure an Advantage</em> or <em>Compel</em> using fear or intimidation. If you roll a 1 on your action die when making a move aided by your visage, the magic is spent. On a weak hit, as above, but the blood must be your own; <em>Endure Harm</em> (2 harm).</p>\n",marked:!0},{text:"<p>As above, and you may also add +1 when you <em>Strike</em>, <em>Clash</em>, or <em>Battle</em>.</p>\n",marked:!1},{text:"<p>When you perform this ritual, add +1 and take +1 momentum on a hit.</p>\n",marked:!1}]},Ward:{type:"Ritual",title:"Ward",items:[{text:"<p>When you walk a wide circle, sprinkling the ground with salt, roll +wits. On a strong hit, choose two. On a weak hit, choose one.</p>\n\n<ul>\n<li>When a foe first crosses the boundary, take +1 momentum.</li>\n<li>When you first inflict harm against a foe within the boundary, inflict +1 harm.</li>\n<li>Your ward is ‘likely’ (<em>Ask the Oracle</em>) to trap a foe within the boundary.</li>\n</ul>\n",marked:!0},{text:"<p>As above, and improve the effect of your ward (+2 momentum, +2 harm, and ‘almost certain’).</p>\n",marked:!1},{text:"<p>When you perform this ritual, add +1 and take +1 momentum on a hit.</p>\n",marked:!1}]},Waterborn:{type:"Path",title:"Waterborn",items:[{text:"<p>When you <em>Face Danger</em>, <em>Gather Information</em>, or <em>Secure an Advantage</em> related to your knowledge of watercraft, water travel, or aquatic environments or creatures, add +1 and take +1 momentum on a hit.</p>\n",marked:!0},{text:"<p>When you <em>Undertake a Journey</em> by boat or ship, add +1. On a strong hit, also choose one.</p>\n\n<ul>\n<li>The wind is at your back: Mark progress twice.</li>\n<li>Find safe anchor: <em>Make Camp</em> now and reroll any dice.</li>\n<li>Reap the bounty: <em>Resupply</em> now and reroll any dice.</li>\n</ul>\n",marked:!1},{text:"<p>When you <em>Enter the Fray</em> aboard a boat or ship, reroll any dice.</p>\n",marked:!1}]},Wayfinder:{type:"Path",title:"Wayfinder",items:[{text:"<p>When you <em>Undertake a Journey</em>, take +1 momentum on a strong hit. If you burn momentum to improve your result, also take +1 momentum after you reset.</p>\n",marked:!0},{text:"<p>When you <em>Secure an Advantage</em> or <em>Gather Information</em> by carefully surveying the landscape or scouting ahead, add +1 and take +1 momentum on a hit.</p>\n",marked:!1},{text:"<p>When you <em>Swear an Iron Vow</em> to safely guide someone on a perilous journey, you may reroll any dice. When you <em>Fulfill Your Vow</em> and mark experience, take +1 experience.</p>\n",marked:!1}]},Weaponmaster:{type:"Path",title:"Weaponmaster",subtitle:"<p>Once you <em>Fulfill Your Vow</em> (formidable or greater) in service to a seasoned warrior, and <em>Forge a Bond</em> to train with them&hellip;</p>\n",items:[{text:"<p>When you <em>Secure an Advantage</em> by sizing up your foe in a fight, or in a charged situation which may lead to a fight, add +1 and take +1 momentum on a hit.</p>\n",marked:!0},{text:"<p>When you study or train in a new weapon or technique, you may obtain and upgrade that combat talent for 1 fewer experience.</p>\n",marked:!1},{text:"<p>When you <em>Turn the Tide</em> with a sudden change of weapon or technique, and your next move is a <em>Strike</em>, add +1 and inflict +2 harm on a strong hit.</p>\n",marked:!1}]},Wildblood:{type:"Path",title:"Wildblood",items:[{text:"<p>When you <em>Face Danger</em>, <em>Secure an Advantage</em>, or <em>Gather Information</em> using your knowledge of tracking, woodcraft, or woodland creatures, add +1.</p>\n",marked:!0},{text:"<p>When you <em>Face Danger</em> or <em>Secure an Advantage</em> by hiding or sneaking in the woodlands, add +1 and take +1 momentum on a hit.</p>\n",marked:!1},{text:"<p>When you <em>Make Camp</em> in the woodlands, you may roll +wits (instead of +supply). If you do, you and your allies each choose 1 more option on a hit.</p>\n",marked:!1}]},Wright:{type:"Path",title:"Wright",input:{label:"Specialty",text:""},items:[{text:"<p>When you <em>Secure an Advantage</em> by crafting a useful item using your specialty, or when you <em>Face Danger</em> to create or repair an item in a perilous situation, add +1 and take +1 momentum on a hit.</p>\n",marked:!0},{text:"<p>As above, and you may suffer -1 supply (after rolling) to add an additional +1.</p>\n",marked:!1},{text:"<p>When you give the item you create as a gift to commemorate an important event or relationship, you may (one time only) reroll any dice when you <em>Compel</em>, <em>Forge a Bond</em>, or <em>Test Your Bond</em>.</p>\n",marked:!1}]},"Young Wyvern":{type:"Companion",title:"Young Wyvern",subtitle:"<p>Your wyvern won’t devour you. For now.</p>\n",input:{label:"Name",text:""},items:[{text:"<p>When you <em>Undertake a Journey</em> and score a hit, you may suffer -1 supply in exchange for +2 momentum.</p>\n",marked:!1},{text:"<p>When you make the <em>Companion Endure Harm</em> move for your wyvern, add +2 and take +1 momentum on a hit.</p>\n",marked:!1},{text:"<p>When you <em>Strike</em> by commanding your wyvern to attack, roll +heart. Your wyvern inflicts 3 harm on a hit.</p>\n",marked:!1}],track:{value:0,max:5,min:0}}},Ne={class:"row full-height fit"},Je={class:"col-12"},$e={class:"row items-center q-mb-lg"},ze=(0,o.Lk)("p",null,"You can use the following subset of HTML tags to style your item text:",-1),Ze={class:"row items-center q-mb-lg q-mt-xs"},ea={class:"row items-center q-mb-lg q-mt-xs"},aa={class:"row items-center q-mb-lg q-mt-xs"},ta={class:"row items-center q-mb-lg"},oa={class:"row justify-between"},na={class:"col-12"},ra={class:"row full-width full-height justify-center"};function ia(e,a,t,n,r,i){const m=(0,o.g2)("q-input"),l=(0,o.g2)("q-toggle"),s=(0,o.g2)("q-btn"),d=(0,o.g2)("asset");return(0,o.uX)(),(0,o.CE)("div",Ne,[(0,o.Lk)("div",Je,[(0,o.bF)(m,{label:"Title",modelValue:e.data.title,"onUpdate:modelValue":a[0]||(a[0]=a=>e.data.title=a),dense:""},null,8,["modelValue"]),(0,o.bF)(m,{label:"Subtitle?",modelValue:e.subtitle,"onUpdate:modelValue":a[1]||(a[1]=a=>e.subtitle=a),dense:""},null,8,["modelValue"]),(0,o.Lk)("div",$e,[(0,o.bF)(l,{class:"q-mr-md q-mt-sm",label:"Text input?",modelValue:e.hasMainInput,"onUpdate:modelValue":a[2]||(a[2]=a=>e.hasMainInput=a),dense:"",onClick:e.mInputClick},null,8,["modelValue","onClick"]),e.hasMainInput?((0,o.uX)(),(0,o.Wv)(m,{key:0,class:"col-grow",label:"Input Label",modelValue:e.data.input.label,"onUpdate:modelValue":a[3]||(a[3]=a=>e.data.input.label=a),dense:""},null,8,["modelValue"])):(0,o.Q3)("",!0)]),ze,(0,o.Lk)("p",null,(0,he.v_)(e.validTags.toString().replace(/,/g,", ")),1),(0,o.bF)(m,{label:"First item text",modelValue:e.data.items[0].text,"onUpdate:modelValue":a[4]||(a[4]=a=>e.data.items[0].text=a),dense:"",autogrow:"",hint:"Item text can contain html for formatting"},null,8,["modelValue"]),(0,o.Lk)("div",Ze,[(0,o.bF)(l,{class:"q-mr-md",label:"Text input?",modelValue:e.hasItem1Input,"onUpdate:modelValue":a[5]||(a[5]=a=>e.hasItem1Input=a),dense:"",onClick:e.item1Click},null,8,["modelValue","onClick"]),e.hasItem1Input?((0,o.uX)(),(0,o.Wv)(m,{key:0,class:"col-grow",label:"Input Label",modelValue:e.data.items[0].input.label,"onUpdate:modelValue":a[6]||(a[6]=a=>e.data.items[0].input.label=a),dense:""},null,8,["modelValue"])):(0,o.Q3)("",!0)]),(0,o.bF)(m,{label:"Second item text",modelValue:e.data.items[1].text,"onUpdate:modelValue":a[7]||(a[7]=a=>e.data.items[1].text=a),dense:"",autogrow:"",hint:"Item text can contain html for formatting"},null,8,["modelValue"]),(0,o.Lk)("div",ea,[(0,o.bF)(l,{class:"q-mr-md",label:"Text input?",modelValue:e.hasItem2Input,"onUpdate:modelValue":a[8]||(a[8]=a=>e.hasItem2Input=a),dense:"",onClick:e.item2Click},null,8,["modelValue","onClick"]),e.hasItem2Input?((0,o.uX)(),(0,o.Wv)(m,{key:0,class:"col-grow",label:"Input Label",modelValue:e.data.items[1].input.label,"onUpdate:modelValue":a[9]||(a[9]=a=>e.data.items[1].input.label=a),dense:""},null,8,["modelValue"])):(0,o.Q3)("",!0)]),(0,o.bF)(m,{label:"Third item text",modelValue:e.data.items[2].text,"onUpdate:modelValue":a[10]||(a[10]=a=>e.data.items[2].text=a),dense:"",autogrow:"",hint:"Item text can contain html for formatting"},null,8,["modelValue"]),(0,o.Lk)("div",aa,[(0,o.bF)(l,{class:"q-mr-md",label:"Text input?",modelValue:e.hasItem3Input,"onUpdate:modelValue":a[11]||(a[11]=a=>e.hasItem3Input=a),dense:"",onClick:e.item3Click},null,8,["modelValue","onClick"]),e.hasItem3Input?((0,o.uX)(),(0,o.Wv)(m,{key:0,class:"col-grow",label:"Input Label",modelValue:e.data.items[2].input.label,"onUpdate:modelValue":a[12]||(a[12]=a=>e.data.items[2].input.label=a),dense:""},null,8,["modelValue"])):(0,o.Q3)("",!0)]),(0,o.bF)(l,{class:"row",label:"Resource track?",modelValue:e.hasTrack,"onUpdate:modelValue":a[13]||(a[13]=a=>e.hasTrack=a),dense:"",onClick:e.trackClick},null,8,["modelValue","onClick"]),(0,o.Lk)("div",ta,[e.hasTrack?((0,o.uX)(),(0,o.Wv)(m,{key:0,class:"col-grow",label:"Min",type:"number",modelValue:e.data.track.min,"onUpdate:modelValue":a[14]||(a[14]=a=>e.data.track.min=a),modelModifiers:{number:!0},dense:""},null,8,["modelValue"])):(0,o.Q3)("",!0),e.hasTrack?((0,o.uX)(),(0,o.Wv)(m,{key:1,class:"col-grow",label:"Max",type:"number",modelValue:e.data.track.max,"onUpdate:modelValue":a[15]||(a[15]=a=>e.data.track.max=a),modelModifiers:{number:!0},dense:""},null,8,["modelValue"])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",oa,[(0,o.bF)(s,{color:"positive",icon:"save",label:"save",flat:"",onClick:a[16]||(a[16]=a=>e.save(e.data))}),(0,o.bF)(s,{color:"negative",icon:"close",label:"close",flat:"",onClick:e.close},null,8,["onClick"])])]),(0,o.Lk)("div",na,[(0,o.Lk)("div",ra,[(0,o.bF)(d,{class:"self-center",modelValue:e.data,"onUpdate:modelValue":a[17]||(a[17]=a=>e.data=a),expanded:"",style:{"min-width":"100%"}},null,8,["modelValue"])])])])}var ma=t(9187),la=t(885),sa=function(e,a,t,o){function n(e){return e instanceof t?e:new t((function(a){a(e)}))}return new(t||(t=Promise))((function(t,r){function i(e){try{l(o.next(e))}catch(a){r(a)}}function m(e){try{l(o["throw"](e))}catch(a){r(a)}}function l(e){e.done?t(e.value):n(e.value).then(i,m)}l((o=o.apply(e,a||[])).next())}))};const da=(0,o.pM)({components:{Asset:Le},name:"AssetEditor",props:{modelValue:{type:Boolean,required:!0},id:{type:String,default:"new"}},emits:["update:modelValue"],setup(e,a){const t=(0,X.KR)(Ke()),n=(0,_e.d)(),r=()=>{a.emit("update:modelValue",!1)},i=e=>{n.save(e).catch((e=>console.log(e))),r()},m=(0,X.KR)("");(0,o.wB)((()=>m.value),(()=>{m.value?t.value.subtitle=m.value:t.value.subtitle=void 0}));const l=(0,X.KR)(!1),s=()=>{l.value?t.value.input={label:"",text:""}:t.value.input=void 0},d=(0,X.KR)(!1),u=()=>{d.value?t.value.items[0].input={label:"",text:""}:t.value.items[0].input=void 0},h=(0,X.KR)(!1),p=()=>{h.value?t.value.items[1].input={label:"",text:""}:t.value.items[1].input=void 0},c=(0,X.KR)(!1),y=()=>{c.value?t.value.items[2].input={label:"",text:""}:t.value.items[2].input=void 0},k=(0,X.KR)(!1),g=()=>{k.value?t.value.track={value:0,min:0,max:3}:t.value.track=void 0};return(()=>{sa(this,void 0,void 0,(function*(){"new"!==e.id&&(t.value=yield la.db.assets.get(e.id),t.value.subtitle&&(m.value=t.value.subtitle),l.value=!!t.value.input,d.value=!!t.value.items[0].input,h.value=!!t.value.items[1].input,c.value=!!t.value.items[2].input,k.value=!!t.value.track)}))})(),{data:t,validTags:ma.Mn,subtitle:m,hasMainInput:l,mInputClick:s,hasItem1Input:d,item1Click:u,hasItem2Input:h,item2Click:p,hasItem3Input:c,item3Click:y,hasTrack:k,trackClick:g,save:i,close:r}}});var ua=t(449);const ha=(0,G.A)(da,[["render",ia]]),pa=ha;z()(da,"components",{QInput:ie.A,QToggle:ua.A,QBtn:N.A});const ca=(0,o.pM)({name:"Assets",components:{AssetEditor:pa,Hexbox:Ie},props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,a){const t=(0,P.E)(),n=(0,H.U)(),r=(0,X.KR)(e.modelValue);(0,o.wB)((()=>e.modelValue),(()=>r.value=e.modelValue)),(0,o.wB)((()=>r.value),(()=>a.emit("update:modelValue",r.value)));const i=()=>{r.value=!1,p.value=!1,a.emit("update:modelValue",r.value)},m=(0,_e.d)(),l=(0,X.KR)(""),s=e=>""===l.value||null===l.value||(!(void 0===e.title||!RegExp(l.value,"i").test(e.title))||!(void 0===e.type||!RegExp(l.value,"i").test(e.type))),d=(0,o.EW)((()=>{const e={};return m.data.forEach((a=>{s(a)&&(e[a.id]=a)})),Object.keys(Ge).forEach((a=>{s(Ge[a])&&(e[a]=Ge[a])})),e})),u=e=>{p.value=!1,k.value=d.value[e]},h=e=>{const a=JSON.parse(JSON.stringify(d.value[e]));t.data.character.assets.push(a)},p=(0,X.KR)(!1),c=(0,X.KR)(!0),y=(0,X.KR)("new"),k=(0,X.KR)(Ge["Alchemist"]);return{config:n,showDialog:r,close:i,Assets:Ge,filter:l,cards:d,showEditor:p,showList:c,editID:y,customAssets:m,selectAsset:u,addAsset:h,ca:k}}});var ya=t(7201),ka=t(500),ga=t(133),ba=t(9351),fa=t(6769),wa=t(5390),va=t(4514),xa=t(5329),Wa=t(3418),Va=t(5779),Ca=t(5962),Fa=t(1102),Ia=t(3177),Sa=t(1976);const Aa=(0,G.A)(ca,[["render",He]]),qa=Aa;z()(ca,"components",{QDialog:ya.A,QLayout:ka.A,QCard:Ae.A,QHeader:ga.A,QToolbar:ba.A,QBtn:N.A,QToolbarTitle:fa.A,QInput:ie.A,QIcon:Oe.A,QDrawer:wa.A,QList:va.A,QItem:xa.A,QItemSection:Wa.A,QItemLabel:Va.A,QAvatar:Ca.A,QPageContainer:Fa.A,QPage:Ia.A}),z()(ca,"directives",{Ripple:Sa.A});var Oa=t(340);const Ea=(0,o.pM)({name:"Character",components:{ResourceTrack:ee,Stats:ue,ProgressTrack:ae.A,Asset:Le,Assets:qa,IInput:Oa.A},setup(){const e=(0,P.E)(),a=a=>e.data.character.assets.splice(a,1),t=(0,X.KR)(!1),o=()=>{let a=0;Object.values(e.data.character.debilities.conditions).forEach((e=>{e&&a++})),Object.values(e.data.character.debilities.banes).forEach((e=>{e&&a++})),Object.values(e.data.character.debilities.burdens).forEach((e=>{e&&a++})),e.data.character.tracks.momentum.reset=1===a?1:a>1?0:2,e.data.character.tracks.momentum.max=10-a},n=()=>{const a=+e.data.character.tracks.momentum.reset;e.data.character.tracks.momentum.value=a},r=(0,H.U)();return{campaign:e,removeAsset:a,showAssetSelect:t,markDebility:o,burnMomentum:n,config:r}}});var Ta=t(8151),La=t(2225);const Ua=(0,G.A)(Ea,[["render",Y]]),Ra=Ua;z()(Ea,"components",{QPage:Ia.A,QInput:ie.A,QBtn:N.A,QTooltip:Ta.A,QSeparator:Ee.A,QCheckbox:La.A})}}]);