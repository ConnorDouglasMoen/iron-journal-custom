(()=>{var t={1620:(t,e,a)=>{"use strict";var n=a(9104),c=a(9410),o=a(8734),i=a(1758),r=a(8790);const l={key:1};function h(t,e,a,n,c,o){const h=(0,i.g2)("router-view");return t.loaded?((0,i.uX)(),(0,i.Wv)(h,{key:0})):((0,i.uX)(),(0,i.CE)("div",l,[(0,i.Lk)("div",{class:"column q-pa-xl text-h4 self-center",style:{height:"100%",width:"100%"},onClick:e[0]||(e[0]=(...e)=>t.skipIntro&&t.skipIntro(...e))},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.msg,((t,e)=>((0,i.uX)(),(0,i.CE)("div",{class:"norse",key:e},(0,r.v_)(t),1)))),128))])]))}var s=a(8511),m=a(2283),d=a(4307),u=a(3710),x=a(5880),p=a(4858),f=a(9187),v=function(t,e,a,n){function c(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,o){function i(t){try{l(n.next(t))}catch(e){o(e)}}function r(t){try{l(n["throw"](t))}catch(e){o(e)}}function l(t){t.done?a(t.value):c(t.value).then(i,r)}l((n=n.apply(t,e||[])).next())}))};const y=(0,i.pM)({name:"App",setup(){let t=()=>{};const e=new Promise((e=>t=e)),a=t=>Promise.race([e,(0,f.yy)(t)]),n=(0,o.KR)(!1),c=(0,o.KR)([""]),r=t=>v(this,void 0,void 0,(function*(){c.value.push("");for(let e=0;e<t.length;e++)yield a(40),c.value[c.value.length-1]+=t.charAt(e)})),l=(0,u.A)();l.dark.set(!0);const h=(0,m.E)(),y=()=>v(this,void 0,void 0,(function*(){yield r("Checking the perimeter..."),yield a(500),yield r("Tasting the wind..."),yield a(500),yield r("Sharpening our blades..."),yield a(500),yield r("Your time has come, "+h.data.character.name),yield(0,f.yy)(500)})),g=()=>v(this,void 0,void 0,(function*(){const t=(0,x.d)(),e=(0,p.D)();yield h.populateStore().catch((t=>console.log(t))),yield t.populateStore().catch((t=>console.log(t))),yield e.populateStore().catch((t=>console.log(t)))}));(0,i.sV)((()=>v(this,void 0,void 0,(function*(){yield Promise.all([g(),y()]),n.value=!0}))));const b=(0,s.U)();return(0,i.wB)((()=>b.$state),(()=>v(this,void 0,void 0,(function*(){yield b.save()}))),{deep:!0}),(0,i.wB)((()=>b.$state.data.current),(()=>v(this,void 0,void 0,(function*(){yield h.load(b.data.current)})))),(0,i.wB)((()=>h.$state),(0,d.A)((()=>v(this,void 0,void 0,(function*(){b.data.saving=!0,yield h.save(),yield(0,f.yy)(200),b.data.saving=!1}))),1e3),{deep:!0}),{skipIntro:t,loaded:n,msg:c}}});var g=a(2807);const b=(0,g.A)(y,[["render",h]]),S=b;var w=a(604),k=a(6535);const A=[{path:"/",component:()=>Promise.all([a.e(121),a.e(996),a.e(398)]).then(a.bind(a,4344)),children:[{path:"",component:()=>Promise.all([a.e(121),a.e(996),a.e(172)]).then(a.bind(a,172))}]},{path:"/campaign",component:()=>Promise.all([a.e(121),a.e(996),a.e(398)]).then(a.bind(a,4344)),children:[{path:"",component:()=>Promise.all([a.e(121),a.e(996),a.e(344)]).then(a.bind(a,2344))}]},{path:"/journal",component:()=>Promise.all([a.e(121),a.e(996),a.e(398)]).then(a.bind(a,4344)),children:[{path:"",component:()=>Promise.all([a.e(121),a.e(996),a.e(402)]).then(a.bind(a,7596))}]},{path:"/challenges",component:()=>Promise.all([a.e(121),a.e(996),a.e(398)]).then(a.bind(a,4344)),children:[{path:"",component:()=>Promise.all([a.e(121),a.e(996),a.e(553)]).then(a.bind(a,5553))}]},{path:"/world",component:()=>Promise.all([a.e(121),a.e(996),a.e(398)]).then(a.bind(a,4344)),children:[{path:"",component:()=>Promise.all([a.e(121),a.e(996),a.e(936)]).then(a.bind(a,1936))}]},{path:"/:catchAll(.*)*",component:()=>Promise.all([a.e(121),a.e(868)]).then(a.bind(a,868))}],E=A,T=(0,w.wE)((function(){const t=k.Bt,e=(0,k.aE)({scrollBehavior:()=>({left:0,top:0}),routes:E,history:t("/iron-journal-custom/")});return e}));async function N(t,e){const a=t(S);a.use(c.A,e);const n=(0,o.IG)("function"===typeof T?await T({}):T);return{app:a,router:n}}var K=a(2322),P=a(8813);const M={config:{},plugins:{Notify:K.A,Dialog:P.A}},O="/iron-journal-custom/",J=/\/\//,C=t=>(O+t).replace(J,"/");async function j({app:t,router:e},a){let n=!1;const c=t=>{try{return C(e.resolve(t).href)}catch(a){}return Object(t)===t?null:t},o=t=>{if(n=!0,"string"===typeof t&&/^https?:\/\//.test(t))return void(window.location.href=t);const e=c(t);null!==e&&(window.location.href=e,window.location.reload())},i=window.location.href.replace(window.location.origin,"");for(let l=0;!1===n&&l<a.length;l++)try{await a[l]({app:t,router:e,ssrContext:null,redirect:o,urlPath:i,publicPath:O})}catch(r){return r&&r.url?void o(r.url):void console.error("[Quasar] boot error:",r)}!0!==n&&(t.use(e),t.mount("#q-app"))}N(n.Ef,M).then((t=>Promise.all([Promise.resolve().then(a.bind(a,5405))]).then((e=>{const a=e.map((t=>t.default)).filter((t=>"function"===typeof t));j(t,a)}))))},5405:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});var n=a(604),c=a(9704);const o=(0,n.zj)((({app:t})=>{t.use((0,c.Ey)())}))},9324:(t,e,a)=>{"use strict";var n,c,o;a.d(e,{Ug:()=>c,c2:()=>n,cw:()=>o}),function(t){t["Ironlander"]="Ironlander",t["Elf"]="Elf",t["Giant"]="Giant",t["Varou"]="Varou",t["Troll"]="Troll"}(n||(n={})),function(t){t["Empty"]="empty",t["Route"]="route",t["Location"]="location"}(c||(c={})),function(t){t["Sites"]="sites",t["Locations"]="locations",t["NPCs"]="npcs"}(o||(o={}))},8981:(t,e,a)=>{"use strict";a.d(e,{ic:()=>h,tZ:()=>s});var n=a(8090),c=a(7224),o=a(1107),i=a(9211),r=a(6771);function l(){return{name:(0,c.SQ)(r.f.Ironlander),location:"",xp:0,stats:{edge:0,heart:0,iron:0,shadow:0,wits:0},tracks:{health:{value:5,max:5,min:0},spirit:{value:5,max:5,min:0},supply:{value:5,max:5,min:0},momentum:{value:2,max:10,min:-6,reset:2}},debilities:{conditions:{wounded:!1,shaken:!1,unprepared:!1,encumbered:!1},banes:{maimed:!1,corrupted:!1},burdens:{cursed:!1,tormented:!1}},vows:[(0,o.PR)()],bonds:(0,o.PR)(),gear:"",assets:[]}}function h(){return{title:"New journal entry",content:""}}function s(){return{id:(0,n.A)(),name:"New Campaign",character:l(),truths:{theOldWorld:"",iron:"",legacies:"",communities:"",leaders:"",defense:"",mysticism:"",religion:"",firstBorn:"",beasts:"",horrors:""},progressTracks:[(0,o.PR)()],journal:[h()],maps:[(0,i.zf)(a(1720),"The Ironlands")]}}},885:(t,e,a)=>{"use strict";a.d(e,{db:()=>o});var n=a(2525);class c extends n.A{constructor(){super("IronJournalDB"),this.version(1).stores({config:"&id",campaign:"&id"}),this.version(2).stores({config:"&id",campaign:"&id",assets:"&id"}),this.version(3).stores({config:"&id",campaign:"&id",assets:"&id",oracles:"&$id"}),this.config=this.table("config"),this.campaign=this.table("campaign"),this.assets=this.table("assets"),this.oracles=this.table("oracles")}}const o=new c},6771:(t,e,a)=>{"use strict";a.d(e,{f:()=>n});const n={Ironlander:{name:"Ironlander",d:200,table:[{match:[1],text:"Solana"},{match:[2],text:"Keelan"},{match:[3],text:"Cadigan"},{match:[4],text:"Sola"},{match:[5],text:"Kodroth"},{match:[6],text:"Kione"},{match:[7],text:"Katja"},{match:[8],text:"Tio"},{match:[9],text:"Artiga"},{match:[10],text:"Eos"},{match:[11],text:"Bastien"},{match:[12],text:"Elli"},{match:[13],text:"Maura"},{match:[14],text:"Haleema"},{match:[15],text:"Abella"},{match:[16],text:"Morter"},{match:[17],text:"Wulan"},{match:[18],text:"Mai"},{match:[19],text:"Farina"},{match:[20],text:"Pearce"},{match:[21],text:"Wynne"},{match:[22],text:"Haf"},{match:[23],text:"Aeddon"},{match:[24],text:"Khinara"},{match:[25],text:"Milla"},{match:[26],text:"Nakata"},{match:[27],text:"Kynan"},{match:[28],text:"Kiah"},{match:[29],text:"Jaggar"},{match:[30],text:"Beca"},{match:[31],text:"Ikram"},{match:[32],text:"Melia"},{match:[33],text:"Sidan"},{match:[34],text:"Deshi"},{match:[35],text:"Tessa"},{match:[36],text:"Sibila"},{match:[37],text:"Morien"},{match:[38],text:"Mona"},{match:[39],text:"Padma"},{match:[40],text:"Avella"},{match:[41],text:"Naila"},{match:[42],text:"Lio"},{match:[43],text:"Cera"},{match:[44],text:"Ithela"},{match:[45],text:"Zhan"},{match:[46],text:"Kaivan"},{match:[47],text:"Valeri"},{match:[48],text:"Hirsham"},{match:[49],text:"Pemba"},{match:[50],text:"Edda"},{match:[51],text:"Lestara"},{match:[52],text:"Lago"},{match:[53],text:"Elstan"},{match:[54],text:"Saskia"},{match:[55],text:"Kabeera"},{match:[56],text:"Caldas"},{match:[57],text:"Nisus"},{match:[58],text:"Serene"},{match:[59],text:"Chenda"},{match:[60],text:"Themon"},{match:[61],text:"Erin"},{match:[62],text:"Alban"},{match:[63],text:"Parcell"},{match:[64],text:"Jelma"},{match:[65],text:"Willa"},{match:[66],text:"Nadira"},{match:[67],text:"Gwen"},{match:[68],text:"Amara"},{match:[69],text:"Masias"},{match:[70],text:"Kanno"},{match:[71],text:"Razeena"},{match:[72],text:"Mira"},{match:[73],text:"Perella"},{match:[74],text:"Myrick"},{match:[75],text:"Qamar"},{match:[76],text:"Kormak"},{match:[77],text:"Zura"},{match:[78],text:"Zanita"},{match:[79],text:"Brynn"},{match:[80],text:"Tegan"},{match:[81],text:"Pendry"},{match:[82],text:"Quinn"},{match:[83],text:"Fanir"},{match:[84],text:"Glain"},{match:[85],text:"Emelyn"},{match:[86],text:"Kendi"},{match:[87],text:"Althus"},{match:[88],text:"Leela"},{match:[89],text:"Ishana"},{match:[90],text:"Flint"},{match:[91],text:"Delkash"},{match:[92],text:"Nia"},{match:[93],text:"Nan"},{match:[94],text:"Keeara"},{match:[95],text:"Katania"},{match:[96],text:"Morell"},{match:[97],text:"Temir"},{match:[98],text:"Bas"},{match:[99],text:"Sabine"},{match:[100],text:"Tallus"},{match:[101],text:"Segura"},{match:[102],text:"Gethin"},{match:[103],text:"Bataar"},{match:[104],text:"Basira"},{match:[105],text:"Joa"},{match:[106],text:"Glynn"},{match:[107],text:"Toran"},{match:[108],text:"Arasen"},{match:[109],text:"Kuron"},{match:[110],text:"Griff"},{match:[111],text:"Owena"},{match:[112],text:"Adda"},{match:[113],text:"Euros"},{match:[114],text:"Kova"},{match:[115],text:"Kara"},{match:[116],text:"Morgan"},{match:[117],text:"Nanda"},{match:[118],text:"Tamara"},{match:[119],text:"Asha"},{match:[120],text:"Delos"},{match:[121],text:"Torgan"},{match:[122],text:"Makari"},{match:[123],text:"Selva"},{match:[124],text:"Kimura"},{match:[125],text:"Rhian"},{match:[126],text:"Tristan"},{match:[127],text:"Siorra"},{match:[128],text:"Sayer"},{match:[129],text:"Cortina"},{match:[130],text:"Vesna"},{match:[131],text:"Kataka"},{match:[132],text:"Keyshia"},{match:[133],text:"Mila"},{match:[134],text:"Lili"},{match:[135],text:"Vigo"},{match:[136],text:"Sadia"},{match:[137],text:"Malik"},{match:[138],text:"Dag"},{match:[139],text:"Kuno"},{match:[140],text:"Reva"},{match:[141],text:"Kai"},{match:[142],text:"Kalina"},{match:[143],text:"Jihan"},{match:[144],text:"Hennion"},{match:[145],text:"Abram"},{match:[146],text:"Aida"},{match:[147],text:"Myrtle"},{match:[148],text:"Nekun"},{match:[149],text:"Menna"},{match:[150],text:"Tahir"},{match:[151],text:"Sarria"},{match:[152],text:"Nakura"},{match:[153],text:"Akiya"},{match:[154],text:"Talan"},{match:[155],text:"Mattick"},{match:[156],text:"Okoth"},{match:[157],text:"Khulan"},{match:[158],text:"Verena"},{match:[159],text:"Beltran"},{match:[160],text:"Del"},{match:[161],text:"Ranna"},{match:[162],text:"Alina"},{match:[163],text:"Muna"},{match:[164],text:"Mura"},{match:[165],text:"Torrens"},{match:[166],text:"Yuda"},{match:[167],text:"Nazmi"},{match:[168],text:"Ghalen"},{match:[169],text:"Sarda"},{match:[170],text:"Shona"},{match:[171],text:"Kalidas"},{match:[172],text:"Wena"},{match:[173],text:"Sendra"},{match:[174],text:"Kori"},{match:[175],text:"Setara"},{match:[176],text:"Lucia"},{match:[177],text:"Maya"},{match:[178],text:"Reema"},{match:[179],text:"Yorath"},{match:[180],text:"Rhoddri"},{match:[181],text:"Shekhar"},{match:[182],text:"Servan"},{match:[183],text:"Reese"},{match:[184],text:"Kenrick"},{match:[185],text:"Indirra"},{match:[186],text:"Giliana"},{match:[187],text:"Jebran"},{match:[188],text:"Kotama"},{match:[189],text:"Fara"},{match:[190],text:"Katrin"},{match:[191],text:"Namba"},{match:[192],text:"Lona"},{match:[193],text:"Taylah"},{match:[194],text:"Kato"},{match:[195],text:"Esra"},{match:[196],text:"Eleri"},{match:[197],text:"Irsia"},{match:[198],text:"Kayu"},{match:[199],text:"Bevan"},{match:[200],text:"Chandra"}]},Elf:{name:"Elf",d:100,table:[{match:[1,2],text:"Arsula"},{match:[3,4],text:"Naidita"},{match:[5,6],text:"Belesunna"},{match:[7,8],text:"Vidarna"},{match:[9,10],text:"Ninsunu"},{match:[11,12],text:"Balathu"},{match:[13,14],text:"Dorosi"},{match:[15,16],text:"Gezera"},{match:[17,18],text:"Zursan"},{match:[19,20],text:"Seleeku"},{match:[21,22],text:"Utamara"},{match:[23,24],text:"Nebakay"},{match:[25,26],text:"Dismashk"},{match:[27,28],text:"Mitunu"},{match:[29,30],text:"Atani"},{match:[31,32],text:"Kinzura"},{match:[33,34],text:"Sumula"},{match:[35,36],text:"Ukames"},{match:[37,38],text:"Ahmeshki"},{match:[39,40],text:"Ilsit"},{match:[41,42],text:"Mayatanay"},{match:[43,44],text:"Etana"},{match:[45,46],text:"Gamanna"},{match:[47,48],text:"Nessana"},{match:[49,50],text:"Uralar"},{match:[51,52],text:"Tishetu"},{match:[53,54],text:"Leucia"},{match:[55,56],text:"Sutahe"},{match:[57,58],text:"Dotani"},{match:[59,60],text:"Uktannu"},{match:[61,62],text:"Retenay"},{match:[63,64],text:"Kendalanu"},{match:[65,66],text:"Tahuta"},{match:[67,68],text:"Mattissa"},{match:[69,70],text:"Anatu"},{match:[71,72],text:"Aralu"},{match:[73,74],text:"Arakhi"},{match:[75,76],text:"Ibrahem"},{match:[77,78],text:"Sinosu"},{match:[79,80],text:"Jemshida"},{match:[81,82],text:"Visapni"},{match:[83,84],text:"Hullata"},{match:[85,86],text:"Sidura"},{match:[87,88],text:"Kerihu"},{match:[89,90],text:"Ereshki"},{match:[91,92],text:"Cybela"},{match:[93,94],text:"Anunna"},{match:[95,96],text:"Otani"},{match:[97,98],text:"Ditani"},{match:[99,100],text:"Faraza"}]},Giant:{name:"Giant",d:100,table:[{match:[1,4],text:"Chony"},{match:[5,8],text:"Banda"},{match:[9,12],text:"Jochu"},{match:[13,16],text:"Kira"},{match:[17,20],text:"Khatir"},{match:[21,24],text:"Chaidu"},{match:[25,28],text:"Atan"},{match:[29,32],text:"Buandu"},{match:[33,36],text:"Javyn"},{match:[37,40],text:"Khashin"},{match:[41,44],text:"Bayara"},{match:[45,48],text:"Temura"},{match:[49,52],text:"Kidha"},{match:[53,56],text:"Kathos"},{match:[57,60],text:"Tanua"},{match:[61,64],text:"Bashtu"},{match:[65,68],text:"Jaran"},{match:[69,72],text:"Othos"},{match:[73,76],text:"Khutan"},{match:[77,80],text:"Otaan"},{match:[81,84],text:"Martu"},{match:[85,88],text:"Baku"},{match:[89,92],text:"Tuban"},{match:[93,96],text:"Qudan"},{match:[97,100],text:"Denua"}]},Varou:{name:"Varou",d:100,table:[{match:[1,4],text:"Vata"},{match:[5,8],text:"Zora"},{match:[9,12],text:"Jasna"},{match:[13,16],text:"Charna"},{match:[17,20],text:"Tana"},{match:[21,24],text:"Soveen"},{match:[25,28],text:"Radka"},{match:[29,32],text:"Zlata"},{match:[33,36],text:"Leesla"},{match:[37,40],text:"Byna"},{match:[41,44],text:"Meeka"},{match:[45,48],text:"Iskra"},{match:[49,52],text:"Jarek"},{match:[53,56],text:"Darva"},{match:[57,60],text:"Neda"},{match:[61,64],text:"Keha"},{match:[65,68],text:"Zhivka"},{match:[69,72],text:"Kvata"},{match:[73,76],text:"Staysa"},{match:[77,80],text:"Evka"},{match:[81,84],text:"Vuksha"},{match:[85,88],text:"Muko"},{match:[89,92],text:"Dreko"},{match:[93,96],text:"Aleko"},{match:[97,100],text:"Vojan"}]},Troll:{name:"Troll",d:100,table:[{match:[1,4],text:"Rattle"},{match:[5,8],text:"Scratch"},{match:[9,12],text:"Wallow"},{match:[13,16],text:"Groak"},{match:[17,20],text:"Gimble"},{match:[21,24],text:"Scar"},{match:[25,28],text:"Cratch"},{match:[29,32],text:"Creech"},{match:[33,36],text:"Shush"},{match:[37,40],text:"Glush"},{match:[41,44],text:"Slar"},{match:[45,48],text:"Gnash"},{match:[49,52],text:"Stoad"},{match:[53,56],text:"Grig"},{match:[57,60],text:"Bleat"},{match:[61,64],text:"Chortle"},{match:[65,68],text:"Cluck"},{match:[69,72],text:"Slith"},{match:[73,76],text:"Mongo"},{match:[77,80],text:"Creak"},{match:[81,84],text:"Burble"},{match:[85,88],text:"Vrusk"},{match:[89,92],text:"Snuffle"},{match:[93,96],text:"Leech"},{match:[97,100],text:"Herk"}]}}},7224:(t,e,a)=>{"use strict";a.d(e,{D0:()=>i,SQ:()=>r,Wz:()=>c,d:()=>n,y5:()=>o});const n=t=>Math.floor(Math.random()*t)+1,c=()=>({action:{die:0,score:0,color:"text-negative"},challenge:{die1:{roll:0,color:"text-negative"},die2:{roll:0,color:"text-negative"},match:!1},progress:!1,result:""}),o=t=>(t.action.score>10&&(t.action.score=10),t.action.score>t.challenge.die1.roll&&t.action.score>t.challenge.die2.roll?(t.result="Strong Hit",t.action.color="text-positive",t.challenge.die1.color="text-positive",t.challenge.die2.color="text-positive"):t.action.score<=t.challenge.die1.roll&&t.action.score>t.challenge.die2.roll||t.action.score<=t.challenge.die2.roll&&t.action.score>t.challenge.die1.roll?(t.result="Weak Hit",t.action.color="text-warning",t.action.score<=t.challenge.die1.roll?t.challenge.die1.color="text-negative":t.challenge.die1.color="text-positive",t.action.score<=t.challenge.die2.roll?t.challenge.die2.color="text-negative":t.challenge.die2.color="text-positive"):(t.result="Miss",t.action.color="text-negative",t.challenge.die1.color="text-negative",t.challenge.die2.color="text-negative"),t),i=(t,e,a,i,r)=>{let l=c();return l.action.die=n(6),l.challenge.die1.roll=n(10),l.challenge.die2.roll=n(10),l.action.score=+l.action.die+ +e+ +t,a<0&&Math.abs(a)===Math.abs(l.action.die)&&(l.action.score-=l.action.die),i&&(l.action.score=r),l.challenge.match=!1,l=o(l),l.challenge.die1.roll===l.challenge.die2.roll&&(l.challenge.match=!0),l},r=t=>{let e="No match";const a=()=>{let e="";const a=n(t.d);return t.table.forEach((t=>{1!==t.match.length||t.match[0]!==a?a>=t.match[0]&&a<=t.match[1]&&(e=t.text):e=t.text})),e};e=a();while(/roll twice/i.test(e))e=`${a()}, ${a()}`;return e}},1107:(t,e,a)=>{"use strict";a.d(e,{PR:()=>o,qz:()=>c,sL:()=>n});const n={1:{label:"Troublesome",mark:3,harm:1},2:{label:"Dangerous",mark:2,harm:2},3:{label:"Formidable",mark:1,harm:3},4:{label:"Extreme",mark:.5,harm:4},5:{label:"Epic",mark:.25,harm:5}};function c(){return{name:"",boxes:Array(10).fill(!1)}}function o(){return{name:"",difficulty:1,boxes:Array(10).fill(0),showMenace:!1}}},9187:(t,e,a)=>{"use strict";a.d(e,{A4:()=>d,AT:()=>s,H9:()=>h,Kq:()=>r,Mn:()=>i,ZA:()=>l,tB:()=>m,yy:()=>o});var n=a(9171),c=a.n(n);function o(t){return new Promise((e=>setTimeout(e,t)))}const i=["br","b","i","table","tr","td","th","ul","ol","li"];function r(t){return c()(t,{allowedTags:i})}const l=t=>{const e=[];return t.table.forEach((t=>{e.push(t.text)})),e},h=(t,e)=>{const a=2*e;return Math.ceil(t/a)+Math.ceil(t%a)},s=(t,e)=>Math.ceil(t/(1.5*e)),m=()=>{const t=t=>t<10?`0${t}`:`${t}`,e=new Date,a=e.getFullYear(),n=t(e.getMonth()+1),c=t(e.getDate()),o=t(e.getHours()),i=t(e.getMinutes());return`${a}${n}${c}_${o}${i}`},d=t=>JSON.parse(JSON.stringify(t))},9211:(t,e,a)=>{"use strict";a.d(e,{G1:()=>i,Uz:()=>o,YQ:()=>r,fZ:()=>h,ho:()=>l,zf:()=>s});var n=a(9324),c=a(1107);const o=t=>({name:"",pronouns:"",kin:t||n.c2.Ironlander,bond:!1,role:"",goal:"",descriptor:"",disposition:"",activity:"",notes:"",track:(0,c.PR)()}),i=()=>({name:"",region:"",type:"",descriptor:"",trouble:"",notes:""}),r=()=>({name:"",objective:"",theme:"",domain:"",track:(0,c.PR)(),notes:"",denizens:{}}),l=(t,e)=>({id:t,name:e||t,stat:n.Ug.Empty,sites:[],locations:[],npcs:[]}),h=(t,e)=>{let a=t.name,c=n.cw.Locations;return t.npcs.length>0&&(a=t.npcs[0].name,c=n.cw.NPCs),t.sites.length>0&&(a=t.sites[0].name,c=n.cw.Sites),t.locations.length>0&&(a=t.locations[0].name,c=n.cw.Locations),t.name!==e&&(a=t.name),{label:a,type:c}},s=(t,e)=>({name:e||"New Map",image:t,height:1100,width:825,hexSize:10,zoom:1,fonts:{label:{size:10},search:{size:8}},notes:"",cells:{}})},5880:(t,e,a)=>{"use strict";a.d(e,{d:()=>l});var n=a(9704),c=a(885),o=a(9187),i=a(9497),r=function(t,e,a,n){function c(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,o){function i(t){try{l(n.next(t))}catch(e){o(e)}}function r(t){try{l(n["throw"](t))}catch(e){o(e)}}function l(t){t.done?a(t.value):c(t.value).then(i,r)}l((n=n.apply(t,e||[])).next())}))};const l=(0,n.nY)({id:"assets",state(){return{data:[]}},actions:{populateStore(){return r(this,void 0,void 0,(function*(){if(yield c.db.assets.count(),(yield c.db.assets.count())>0)try{const t=yield c.db.assets.toArray();t.forEach(((e,a)=>{t[a].items.forEach(((e,n)=>t[a].items[n].text=(0,o.Kq)(e.text)))})),this.data=t}catch(t){console.log(t)}}))},save(t){return r(this,void 0,void 0,(function*(){t.items.forEach(((e,a)=>t.items[a].text=(0,o.Kq)(e.text)));const e=JSON.parse(JSON.stringify(t));yield c.db.assets.put(e).catch((t=>console.log(t))),yield this.populateStore()}))},delete(t){return r(this,void 0,void 0,(function*(){const e=t.id;yield c.db.assets.delete(e),this.data.forEach(((t,a)=>{t.id===e&&this.data.splice(a,1)}))}))},exportData(){return r(this,void 0,void 0,(function*(){const t=yield c.db.assets.toArray();t.forEach(((e,a)=>{t[a].items.forEach(((e,n)=>t[a].items[n].text=(0,o.Kq)(e.text)))}));const e=JSON.stringify(t),a=(0,i.A)(`IronJournal-assets-${(0,o.tB)()}.json`,e,{mimeType:"application/json"});1!=a&&alert(a)}))},loadData(t){return r(this,void 0,void 0,(function*(){const e=new FileReader;e.onload=t=>r(this,void 0,void 0,(function*(){var e;const a=JSON.parse(null===(e=t.target)||void 0===e?void 0:e.result);a.forEach(((t,e)=>{a[e].items.forEach(((t,n)=>a[e].items[n].text=(0,o.Kq)(t.text)))}));try{yield c.db.assets.bulkPut(a)}catch(n){console.log(n)}})),e.readAsText(t),yield this.populateStore()}))}}})},2283:(t,e,a)=>{"use strict";a.d(e,{E:()=>s});var n=a(9704),c=a(8981),o=a(8511),i=a(885),r=a(9187),l=a(9497),h=function(t,e,a,n){function c(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,o){function i(t){try{l(n.next(t))}catch(e){o(e)}}function r(t){try{l(n["throw"](t))}catch(e){o(e)}}function l(t){t.done?a(t.value):c(t.value).then(i,r)}l((n=n.apply(t,e||[])).next())}))};const s=(0,n.nY)({id:"campaign",state(){return{data:(0,c.tZ)()}},actions:{moveSite(t,e,a){const n=JSON.parse(JSON.stringify(this.data.maps[e.map].cells[e.cell].sites[t]));this.data.maps[a.map].cells[a.cell].sites.unshift(n),this.data.maps[e.map].cells[e.cell].sites.splice(t,1)},moveLocation(t,e,a){const n=JSON.parse(JSON.stringify(this.data.maps[e.map].cells[e.cell].locations[t]));this.data.maps[a.map].cells[a.cell].locations.unshift(n),this.data.maps[e.map].cells[e.cell].locations.splice(t,1)},moveNPC(t,e,a){const n=JSON.parse(JSON.stringify(this.data.maps[e.map].cells[e.cell].npcs[t]));this.data.maps[a.map].cells[a.cell].npcs.unshift(n),this.data.maps[e.map].cells[e.cell].npcs.splice(t,1)},removeObject(t,e,a,n){this.data.maps[e].cells[a][t].splice(n,1)},appendToJournal(t,e){this.data.journal[t].content+=e},exportJournal(){const t=document.implementation.createHTMLDocument("Journal");this.data.journal.forEach((e=>{const a=t.createElement("div");a.classList.add("entry"),a.innerHTML=`<h3>${e.title}</h3><div class="content">${e.content}</div>`,t.body.prepend(a)}));const e=(new XMLSerializer).serializeToString(t),a=(0,l.A)(`Ironsworn-journal-${(0,r.tB)()}.html`,e,{mimeType:"text/html"});1!=a&&alert(a)},populateStore(){return h(this,void 0,void 0,(function*(){const t=(0,o.U)();if(yield t.populateStore(),(yield i.db.campaign.count())>0&&""!==t.data.current)try{yield this.load(t.data.current)}catch(e){console.log(e)}else yield this.new(),yield t.updateIndex()}))},new(){var t;return h(this,void 0,void 0,(function*(){const e=(0,c.tZ)();this.data=e;const a=(0,o.U)();a.data.current=this.data.id,a.data.index.push({name:null===(t=this.data)||void 0===t?void 0:t.name,id:this.data.id});const n=JSON.parse(JSON.stringify(this.data));yield i.db.campaign.put(n).catch((t=>console.log(t)))}))},save(){return h(this,void 0,void 0,(function*(){const t=JSON.parse(JSON.stringify(this.data));yield i.db.campaign.update(this.data.id,t).catch((t=>console.log(t)));const e=(0,o.U)();yield e.updateIndex()}))},load(t){return h(this,void 0,void 0,(function*(){try{const e=yield i.db.campaign.get(t);this.data=e}catch(e){console.log(e)}}))},delete(t){return h(this,void 0,void 0,(function*(){try{yield i.db.campaign.delete(t),(yield i.db.campaign.count())>0?yield i.db.campaign.toCollection().first().then((t=>h(this,void 0,void 0,(function*(){yield this.load(null===t||void 0===t?void 0:t.id);const e=(0,o.U)();e.data.current=null===t||void 0===t?void 0:t.id,yield e.updateIndex()})))):yield this.new()}catch(e){console.log(e)}}))},exportData(){return h(this,void 0,void 0,(function*(){const t=JSON.stringify(yield i.db.campaign.toArray()),e=(0,l.A)(`Ironsworn-campaign-${(0,r.tB)()}.json`,t,{mimeType:"application/json"});1!=e&&alert(e)}))},loadData(t){return h(this,void 0,void 0,(function*(){const e=new FileReader;e.onload=t=>h(this,void 0,void 0,(function*(){var e;const a=JSON.parse(null===(e=t.target)||void 0===e?void 0:e.result);try{yield i.db.campaign.bulkPut(a)}catch(n){console.log(n)}})),e.readAsText(t),yield this.populateStore()}))}}})},8511:(t,e,a)=>{"use strict";a.d(e,{U:()=>l});var n=a(9704);function c(){return{id:1,current:"",index:[],edit:!0,saving:!1,map:0}}var o=a(885),i=a(2283),r=function(t,e,a,n){function c(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,o){function i(t){try{l(n.next(t))}catch(e){o(e)}}function r(t){try{l(n["throw"](t))}catch(e){o(e)}}function l(t){t.done?a(t.value):c(t.value).then(i,r)}l((n=n.apply(t,e||[])).next())}))};const l=(0,n.nY)({id:"config",state(){return{data:c()}},actions:{populateStore(){return r(this,void 0,void 0,(function*(){if((yield o.db.config.count())>0)try{this.data=yield o.db.config.where("id").equals(1).first();const t=(0,i.E)();t.data.maps[this.data.map]||(this.data.map=0)}catch(t){console.log(t)}else{const t=c();this.data=t,o.db.config.put(t).catch((t=>console.log(t)))}}))},save(){return r(this,void 0,void 0,(function*(){const t=JSON.parse(JSON.stringify(this.data));yield o.db.config.update(1,t).catch((t=>console.log(t)))}))},updateIndex(){return r(this,void 0,void 0,(function*(){const t=[];(yield o.db.campaign.toArray()).forEach((e=>t.push({name:e.name,id:e.id}))),this.data.index=t}))}}})},4858:(t,e,a)=>{"use strict";a.d(e,{D:()=>h});var n=a(9704),c=a(885),o=a(9497),i=a(9187),r=function(t,e,a,n){function c(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,o){function i(t){try{l(n.next(t))}catch(e){o(e)}}function r(t){try{l(n["throw"](t))}catch(e){o(e)}}function l(t){t.done?a(t.value):c(t.value).then(i,r)}l((n=n.apply(t,e||[])).next())}))};const l=t=>(t.forEach(((e,a)=>{var n;null===(n=t[a].Table)||void 0===n||n.forEach(((e,n)=>{void 0!=t[a].Table&&(t[a].Table[n].Result=(0,i.Kq)(e.Result))}))})),t),h=(0,n.nY)({id:"oracles",state(){return{data:[]}},actions:{populateStore(){return r(this,void 0,void 0,(function*(){if(yield c.db.oracles.count(),(yield c.db.oracles.count())>0)try{const t=yield c.db.oracles.toArray();this.data=l(t)}catch(t){console.log(t)}}))},save(t){var e;return r(this,void 0,void 0,(function*(){null===(e=t.Table)||void 0===e||e.forEach(((e,a)=>t.Table[a].Result=(0,i.Kq)(e.Result)));const a=JSON.parse(JSON.stringify(t));yield c.db.oracles.put(a).catch((t=>console.log(t))),yield this.populateStore()}))},delete(t){return r(this,void 0,void 0,(function*(){const e=t.$id;yield c.db.oracles.delete(e),this.data.forEach(((t,a)=>{t.$id===e&&this.data.splice(a,1)}))}))},exportData(){return r(this,void 0,void 0,(function*(){const t=yield c.db.oracles.toArray(),e=JSON.stringify(l(t)),a=(0,o.A)(`Ironsworn-oracles-${(0,i.tB)()}.json`,e,{mimeType:"application/json"});1!=a&&alert(a)}))},loadData(t){const e=new FileReader;e.onload=t=>r(this,void 0,void 0,(function*(){var e;const a=JSON.parse(null===(e=t.target)||void 0===e?void 0:e.result);try{yield c.db.oracles.bulkPut(l(a)),yield this.populateStore()}catch(n){console.log(n)}})),e.readAsText(t)}}})},1720:(t,e,a)=>{t.exports=a.p+"img/default-map.bc60e624.jpg"},9746:()=>{},9977:()=>{},197:()=>{},1866:()=>{},2739:()=>{}},e={};function a(n){var c=e[n];if(void 0!==c)return c.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,a),o.exports}a.m=t,(()=>{var t=[];a.O=(e,n,c,o)=>{if(!n){var i=1/0;for(s=0;s<t.length;s++){for(var[n,c,o]=t[s],r=!0,l=0;l<n.length;l++)(!1&o||i>=o)&&Object.keys(a.O).every((t=>a.O[t](n[l])))?n.splice(l--,1):(r=!1,o<i&&(i=o));if(r){t.splice(s--,1);var h=c();void 0!==h&&(e=h)}}return e}o=o||0;for(var s=t.length;s>0&&t[s-1][2]>o;s--)t[s]=t[s-1];t[s]=[n,c,o]}})(),(()=>{a.n=t=>{var e=t&&t.__esModule?()=>t["default"]:()=>t;return a.d(e,{a:e}),e}})(),(()=>{a.d=(t,e)=>{for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}})(),(()=>{a.f={},a.e=t=>Promise.all(Object.keys(a.f).reduce(((e,n)=>(a.f[n](t,e),e)),[]))})(),(()=>{a.u=t=>"js/"+(996===t?"chunk-common":t)+"."+{172:"ecba2d81",344:"2271a43d",398:"98897c11",402:"15bad3df",553:"7122d3c7",868:"1e6110f8",936:"6b35f918",996:"99a34777"}[t]+".js"})(),(()=>{a.miniCssF=t=>"css/"+({121:"vendor",524:"app"}[t]||t)+"."+{121:"188f1081",172:"965d69a6",398:"542dcd8f",402:"77560bb2",524:"c4e807ce",936:"2aa0d813"}[t]+".css"})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()})(),(()=>{a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})(),(()=>{var t={},e="iron-journal:";a.l=(n,c,o,i)=>{if(t[n])t[n].push(c);else{var r,l;if(void 0!==o)for(var h=document.getElementsByTagName("script"),s=0;s<h.length;s++){var m=h[s];if(m.getAttribute("src")==n||m.getAttribute("data-webpack")==e+o){r=m;break}}r||(l=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,a.nc&&r.setAttribute("nonce",a.nc),r.setAttribute("data-webpack",e+o),r.src=n),t[n]=[c];var d=(e,a)=>{r.onerror=r.onload=null,clearTimeout(u);var c=t[n];if(delete t[n],r.parentNode&&r.parentNode.removeChild(r),c&&c.forEach((t=>t(a))),e)return e(a)},u=setTimeout(d.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=d.bind(null,r.onerror),r.onload=d.bind(null,r.onload),l&&document.head.appendChild(r)}}})(),(()=>{a.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}})(),(()=>{a.p="/iron-journal-custom/"})(),(()=>{var t=(t,e,a,n)=>{var c=document.createElement("link");c.rel="stylesheet",c.type="text/css";var o=o=>{if(c.onerror=c.onload=null,"load"===o.type)a();else{var i=o&&("load"===o.type?"missing":o.type),r=o&&o.target&&o.target.href||e,l=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=i,l.request=r,c.parentNode.removeChild(c),n(l)}};return c.onerror=c.onload=o,c.href=e,document.head.appendChild(c),c},e=(t,e)=>{for(var a=document.getElementsByTagName("link"),n=0;n<a.length;n++){var c=a[n],o=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(o===t||o===e))return c}var i=document.getElementsByTagName("style");for(n=0;n<i.length;n++){c=i[n],o=c.getAttribute("data-href");if(o===t||o===e)return c}},n=n=>new Promise(((c,o)=>{var i=a.miniCssF(n),r=a.p+i;if(e(i,r))return c();t(n,r,c,o)})),c={524:0};a.f.miniCss=(t,e)=>{var a={172:1,398:1,402:1,936:1};c[t]?e.push(c[t]):0!==c[t]&&a[t]&&e.push(c[t]=n(t).then((()=>{c[t]=0}),(e=>{throw delete c[t],e})))}})(),(()=>{var t={524:0};a.f.j=(e,n)=>{var c=a.o(t,e)?t[e]:void 0;if(0!==c)if(c)n.push(c[2]);else{var o=new Promise(((a,n)=>c=t[e]=[a,n]));n.push(c[2]=o);var i=a.p+a.u(e),r=new Error,l=n=>{if(a.o(t,e)&&(c=t[e],0!==c&&(t[e]=void 0),c)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;r.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",r.name="ChunkLoadError",r.type=o,r.request=i,c[1](r)}};a.l(i,l,"chunk-"+e,e)}},a.O.j=e=>0===t[e];var e=(e,n)=>{var c,o,[i,r,l]=n,h=0;if(i.some((e=>0!==t[e]))){for(c in r)a.o(r,c)&&(a.m[c]=r[c]);if(l)var s=l(a)}for(e&&e(n);h<i.length;h++)o=i[h],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(s)},n=globalThis["webpackChunkiron_journal"]=globalThis["webpackChunkiron_journal"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var n=a.O(void 0,[121],(()=>a(1620)));n=a.O(n)})();